<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Inexor Reactive Graph Flow</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="inexor-rgf-book.css">
        <link rel="stylesheet" href="././mdbook-admonish.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="About.html"><strong aria-hidden="true">1.</strong> About</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="About_Design_Goals.html"><strong aria-hidden="true">1.1.</strong> Design Goals</a></li><li class="chapter-item expanded "><a href="About_Roadmap.html"><strong aria-hidden="true">1.2.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="About_Changelog.html"><strong aria-hidden="true">1.3.</strong> Changelog</a></li><li class="chapter-item expanded "><a href="Development_License.html"><strong aria-hidden="true">1.4.</strong> License</a></li><li class="chapter-item expanded "><a href="Development_Code_of_Conduct.html"><strong aria-hidden="true">1.5.</strong> Code of Conduct</a></li></ol></li><li class="chapter-item expanded "><a href="Installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="Configuration.html"><strong aria-hidden="true">3.</strong> Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Configuration_Logging.html"><strong aria-hidden="true">3.1.</strong> Logging</a></li><li class="chapter-item expanded "><a href="Configuration_HTTP_GraphQL_Server.html"><strong aria-hidden="true">3.2.</strong> HTTP/GraphQL Server</a></li><li class="chapter-item expanded "><a href="Configuration_Plugins.html"><strong aria-hidden="true">3.3.</strong> Plugins</a></li></ol></li><li class="chapter-item expanded "><a href="Model.html"><strong aria-hidden="true">4.</strong> Model</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Model_Component.html"><strong aria-hidden="true">4.1.</strong> Component</a></li><li class="chapter-item expanded "><a href="Model_Entity_Type.html"><strong aria-hidden="true">4.2.</strong> Entity Type</a></li><li class="chapter-item expanded "><a href="Model_Relation_Type.html"><strong aria-hidden="true">4.3.</strong> Relation Type</a></li><li class="chapter-item expanded "><a href="Model_Property_Type.html"><strong aria-hidden="true">4.4.</strong> Property Type</a></li><li class="chapter-item expanded "><a href="Model_Extension.html"><strong aria-hidden="true">4.5.</strong> Extension</a></li><li class="chapter-item expanded "><a href="Model_Entity_Instance.html"><strong aria-hidden="true">4.6.</strong> Entity Instance</a></li><li class="chapter-item expanded "><a href="Model_Relation_Instance.html"><strong aria-hidden="true">4.7.</strong> Relation Instance</a></li><li class="chapter-item expanded "><a href="Model_Property_Instance.html"><strong aria-hidden="true">4.8.</strong> Property Instance</a></li><li class="chapter-item expanded "><a href="Model_Flow.html"><strong aria-hidden="true">4.9.</strong> Flow</a></li></ol></li><li class="chapter-item expanded "><a href="GraphQL_API.html"><strong aria-hidden="true">5.</strong> GraphQL API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="GraphQL_API_Components.html"><strong aria-hidden="true">5.1.</strong> Components</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Entity_Types.html"><strong aria-hidden="true">5.2.</strong> Entity Types</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Relation_Types.html"><strong aria-hidden="true">5.3.</strong> Relation Types</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Extension.html"><strong aria-hidden="true">5.4.</strong> Extension</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Entity_Instances.html"><strong aria-hidden="true">5.5.</strong> Entity Instances</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Relation_Instances.html"><strong aria-hidden="true">5.6.</strong> Relation Instances</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Flows.html"><strong aria-hidden="true">5.7.</strong> Flows</a></li><li class="chapter-item expanded "><a href="GraphQL_API_Property_Instance_Subscriptions.html"><strong aria-hidden="true">5.8.</strong> Property Instance Subscriptions</a></li></ol></li><li class="chapter-item expanded "><a href="Plugin_System.html"><strong aria-hidden="true">6.</strong> Plugin System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Plugin_System_Component_Provider.html"><strong aria-hidden="true">6.1.</strong> Component Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Entity_Type_Provider.html"><strong aria-hidden="true">6.2.</strong> Entity Type Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Relation_Type_Provider.html"><strong aria-hidden="true">6.3.</strong> Relation Type Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Flow_Provider.html"><strong aria-hidden="true">6.4.</strong> Flow Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Component_Behaviour_Provider.html"><strong aria-hidden="true">6.5.</strong> Component Behaviour Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Entity_Behaviour_Provider.html"><strong aria-hidden="true">6.6.</strong> Entity Behaviour Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Relation_Behaviour_Provider.html"><strong aria-hidden="true">6.7.</strong> Relation Behaviour Provider</a></li><li class="chapter-item expanded "><a href="Plugin_System_Web_Resource_Provider.html"><strong aria-hidden="true">6.8.</strong> Web Resource Provider</a></li></ol></li><li class="chapter-item expanded "><a href="Plugins.html"><strong aria-hidden="true">7.</strong> Plugins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Plugins_Asset.html"><strong aria-hidden="true">7.1.</strong> Asset</a></li><li class="chapter-item expanded "><a href="Plugins_Base.html"><strong aria-hidden="true">7.2.</strong> Base</a></li><li class="chapter-item expanded "><a href="Plugins_Binary.html"><strong aria-hidden="true">7.3.</strong> Binary</a></li><li class="chapter-item expanded "><a href="Plugins_Comparison.html"><strong aria-hidden="true">7.4.</strong> Comparison</a></li><li class="chapter-item expanded "><a href="Plugins_Config.html"><strong aria-hidden="true">7.5.</strong> Config</a></li><li class="chapter-item expanded "><a href="Plugins_Connector.html"><strong aria-hidden="true">7.6.</strong> Connector</a></li><li class="chapter-item expanded "><a href="Plugins_Input_Device.html"><strong aria-hidden="true">7.7.</strong> Input Device</a></li><li class="chapter-item expanded "><a href="Plugins_JSON.html"><strong aria-hidden="true">7.8.</strong> JSON</a></li><li class="chapter-item expanded "><a href="Plugins_String.html"><strong aria-hidden="true">7.9.</strong> String</a></li><li class="chapter-item expanded "><a href="Plugins_System_Command.html"><strong aria-hidden="true">7.10.</strong> System Command</a></li><li class="chapter-item expanded "><a href="Plugins_System_Environment.html"><strong aria-hidden="true">7.11.</strong> System Environment</a></li></ol></li><li class="chapter-item expanded "><a href="Development.html"><strong aria-hidden="true">8.</strong> Development</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Development_Supported_Platforms.html"><strong aria-hidden="true">8.1.</strong> Supported Platforms</a></li><li class="chapter-item expanded "><a href="Development_Build.html"><strong aria-hidden="true">8.2.</strong> Build</a></li><li class="chapter-item expanded "><a href="Development_Code_Formatting.html"><strong aria-hidden="true">8.3.</strong> Code Formatting</a></li><li class="chapter-item expanded "><a href="Development_Binaries.html"><strong aria-hidden="true">8.4.</strong> Binaries</a></li><li class="chapter-item expanded "><a href="Development_Packaging.html"><strong aria-hidden="true">8.5.</strong> Packaging</a></li><li class="chapter-item expanded "><a href="Development_Documentation.html"><strong aria-hidden="true">8.6.</strong> Documentation</a></li></ol></li><li class="chapter-item expanded "><a href="Internal_Admonish.html">admonish</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Inexor Reactive Graph Flow</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="about-inexor-reactive-graph-flow"><a class="header" href="#about-inexor-reactive-graph-flow">About <code>Inexor Reactive Graph Flow</code></a></h1>
<h2 id="what-is-inexor"><a class="header" href="#what-is-inexor">What is Inexor?</a></h2>
<p style="float:right">
![Inexor Logo](images/inexor.png)
</p>
<ul>
<li>Inexor will be a new first-person shooter game which is based on a new octree-based game engine.</li>
<li>Inexor focuses on classic gameplay as we've seen in Cube2 or the Quake series.</li>
<li>Inexor will be written from ground up new in C++17 and Rust.</li>
<li>You can contribute anything you want: code, content, ideas...</li>
<li>Inexor and all its content is 100% open source!</li>
</ul>
<h2 id="graph"><a class="header" href="#graph">Graph</a></h2>
<h3 id="what-is-a-graph"><a class="header" href="#what-is-a-graph">What is a Graph?</a></h3>
<p>A graph organizes highly interconnected data. The state of an Entity Component System can be ideally represented with
the help of the graph. Inexor is the first game engine to introduce a graph as a basis.</p>
<pre class="mermaid">graph TD;
    A(Entity A)===&gt;|Relation A|B(Entity B);
    A(Entity A)===&gt;|Relation B|C(Entity C);
    B(Entity B)===&gt;|Relation C|D(Entity D);
    C(Entity C)===&gt;|Relation D|D(Entity D);
</pre>
<h3 id="why-do-we-need-a-graph"><a class="header" href="#why-do-we-need-a-graph">Why do we need a graph?</a></h3>
<p>The main benefits of a graph are:</p>
<ul>
<li>A universal data structure for everything</li>
<li>Relations are first class citizens</li>
<li>Benefit from types and instances which makes things intuitive</li>
<li>Benefit from navigation which is fast and intuitive</li>
<li>Benefit from the semantics of highly connected, intuitive data</li>
<li>Properties can store not only certain primitive data but complete documents</li>
</ul>
<h3 id="what-type-of-graph-does-inexor-implement"><a class="header" href="#what-type-of-graph-does-inexor-implement">What type of graph does Inexor implement?</a></h3>
<p>Internally, Inexor is an in-memory graph database with the following characteristics:</p>
<table><thead><tr><th>Characteristics</th><th>Description</th></tr></thead><tbody>
<tr><td>Directed Graph</td><td>Each relation points from one entity to another entity</td></tr>
<tr><td>Typed Graph</td><td><ul><li>Node: Each entity instance is of an entity type</li><li>Edge: Each relation instance is of a relation type</li></ul></td></tr>
<tr><td>Property Graph</td><td><ul><li>Entities have properties</li><li>Relations have properties</li></ul></td></tr>
</tbody></table>
<p>In addition, Inexor takes up concepts from entity component systems. Types, i.e. entity types and relation types, are
assembled using components. The type system itself is flat and supports composition rather than inheritance. Components
can be added or removed from instances, i.e. entity instances or relation instances.</p>
<h2 id="what-is-reactive"><a class="header" href="#what-is-reactive">What is Reactive?</a></h2>
<p>Now that we understand how data is stored, here's how data interacts. The approach is that the data itself is &quot;alive&quot;.
To do this, Inexor adopts a concept from reactive programming.</p>
<blockquote>
<p>In computing, reactive programming is a declarative programming paradigm concerned with data streams and the propagation of change.</p>
</blockquote>
<p>It is the ingenious combination of a graph with reactive programming. The property instances are not static and only
contain data. Rather, they are streams of data. If you change the value of a property instance, you fill the data
stream of this property instance. Data streams are linked together. For example, if the stream of one property instance
is linked to the stream of another property instance and you change the value of the first property instance, the value
of the second property instance will automatically change as well. Data is thus propagated from one station to the next,
triggering a cascade of propagations. </p>
<pre class="mermaid">graph TD;
    A(Property Instance 1)--&gt;B(Property Instance 2);
    A--&gt;C(Property Instance 3);
    B--&gt;D(Property Instance 4);
    C--&gt;D;
    D--&gt;E(Property Instance 5);
    B--&gt;F(Property Instance 6);
</pre>
<p>In addition, Inexor remembers the last value in each property instance. This is done by subscribing to your own data
stream and caching it. This allows subsequent querying of the value of a property instance.</p>
<p>Remember this basic concept:</p>
<ol>
<li>Every property is a stream not only data</li>
<li>Property streams can be subscribed and published</li>
<li>The streams of two properties can be connected and changes will be propagated (cascade)</li>
</ol>
<h3 id="behaviour-driven-design"><a class="header" href="#behaviour-driven-design">Behaviour driven design</a></h3>
<p>The data flow is therefore automatic. Building on this, Inexor applies the concept of behaviour-driven design. The goal
is to use these data streams to simulate behaviour.</p>
<p>Behaviors can be implemented on components, entities and relations. To do this, one or more incoming data streams are
combined, calculations are performed and written to one or more outgoing data streams.</p>
<p>For example, the entity type &quot;AND gate&quot; implements a behavior by subscribing to the two input properties, combining them
into a combination data stream and performing an AND operation on the incoming pairs of values. The result of the AND
operation is itself a data stream and this is linked to the output property.</p>
<p>This example shows how an entity type is wired internally. They are all data streams that are cleverly combined with one
another and thus depict behavior.</p>
<p>It is interesting that this behavior also works for relations. For example, connectors are also implemented behaviors of
streams. It is interesting that connectors connect the data stream from a property instance of the outgoing entity
instance with the data stream from a property instance of the incoming entity instance.</p>
<pre class="mermaid">graph TD;
    subgraph key_ctrl [&quot;Entity Instance (Input Key)&quot;]
    direction RL
    CTRL_KEY(Property key_name=CTRL);
    CTRL_KD(Output Property key_down);
    end

    subgraph key_f10 [&quot;Entity Instance (Input Key)&quot;]
    F10_KD(Output Property key_down);
    F10_KEY(Property key_name=F10);
    end

    CTRL_KD(Property key_down)---&gt;|connector|LHS;
    F10_KD(Property key_down)---&gt;|connector|RHS;

    subgraph logicalgate [&quot;Entity Instance (Logical Gate)&quot;]
    LHS(Input Property LHS)o--&gt;ZIP;
    RHS(Input Property RHS)o--&gt;ZIP;
    ZIP(Zipped stream of LHS and RHS)--&gt;COMBINATOR;
    COMBINATOR(Combinator Function AND)--&gt;RESULT;
    RESULT(Output Property Result);
    end

    RESULT(Output Property Result)--&gt;|connector|CMD_EXIT(Input Property trigger);

    subgraph system_command_exit [&quot;Entity Instance (System Command)&quot;]
    CMD_COMMAND(Property Command);
    CMD_EXIT(Input Property trigger)
    end
</pre>
<p>For example the <code>AND-Gate</code> accepts inputs at the properties <code>lhs</code> and <code>rhs</code>. Both streams are
subscribed and zipped. The zipped stream is calculated with a function - in this case the
AND-Operator. This results in another (invisible) stream which is connected with the property
<code>result</code>. The entity type <code>AND-Gate</code> defines that the properties <code>lhs</code>, <code>rhs</code> and <code>result</code>
have to exist. Furthermore, the socket types are defined: <code>lhs</code> and <code>rhs</code> are <code>Input-Socket</code>s
and <code>result</code> is a <code>Output-Socket</code>. The behaviour is like the internal wiring of entity
instances and of relation instances. A behaviour can be added to entity instances and removed
from entity/relation instances.</p>
<p>In the Reactive Graph Flow there are <code>ComponentBehaviour</code>s, <code>EntityBehaviours</code> and
<code>RelationBehaviours</code>.</p>
<table><thead><tr><th>Type</th><th>Behaviour</th></tr></thead><tbody>
<tr><td>Entity Type &quot;and&quot;</td><td>Entity Behaviour <code>Logical Gate</code> with AND-combinator</td></tr>
<tr><td>Relation Type &quot;default_connector&quot;</td><td>Relation Behaviour <code>Default Connector</code></td></tr>
</tbody></table>
<p>Behaviours are provided by <a href="./Plugin_System.html">plugins</a>.</p>
<h2 id="what-is-a-flow"><a class="header" href="#what-is-a-flow">What is a flow?</a></h2>
<p>Control flows can be implemented based on the graph, the data streams and the behavior-driven design. It is important
here that the available modules that implement the behavior are linked with connectors.</p>
<p>For example, a flow can consist of a logic that links several AND gates with each other using connectors. Both the AND
gate and the connector are behaviors. But the arrangement of these behaviors within a flow makes them powerful.</p>
<p>Entire game modes can be implemented with the help of flows. Or just parts of it that are used in multiple game modes,
such as a mechanism to pick up, drop, and score flags.</p>
<p>Flows are also useful for making maps more interactive. With the help of flows and behaviors, it can be ensured that a
door opens in a map when you press switch 1 and switch 2. Or you determine the color of your own team's base based on
the current score. Or you control particle emitters, depending on how many players are near the emitter. The
possibilities for this are endless and want to be used!</p>
<pre class="mermaid">flowchart LR
    subgraph flow [&quot;Flow&quot;]
        direction LR
        subgraph key_ctrl [&quot;Entity Instance (Input Key)&quot;]
            CTRL_KD(Output Property key_down);
        end
    
        subgraph key_f10 [&quot;Entity Instance (Input Key)&quot;]
            F10_KD(Output Property key_down);
        end
    
        CTRL_KD--&gt;|connector|LHS;
        F10_KD--&gt;|connector|RHS;
    
        subgraph logicalgate [&quot;Entity Instance (Logical Gate)&quot;]
            LHS(Input Property LHS)-.-&gt;RESULT;
            RHS(Input Property RHS)-.-&gt;RESULT;
            RESULT(Output Property Result);
        end
    
        RESULT(Output Property Result)--&gt;|connector|CMD_EXIT(Input Property trigger);
    
        subgraph system_command_exit [&quot;Entity Instance (System Command)&quot;]
            CMD_COMMAND(Property Command);
            CMD_EXIT(Input Property trigger)
        end
    end
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="design-goals"><a class="header" href="#design-goals">Design Goals</a></h1>
<p>This chapter describes what the application's design goals are and aren't.</p>
<h2 id="plugin-system"><a class="header" href="#plugin-system">Plugin System</a></h2>
<p>The plugin system is a central building block and is therefore mentioned first. The goal of the plugin system is to keep
the core as small as possible. The core of the application is described in the next section. Plugins, on the other hand,
contain the functionalities.</p>
<p>The aim of the plugin system is also that you don't have to restart the core application completely just because a small
part has changed. It should be sufficient to restart the modified plugin.</p>
<p>Also, if a plugin stops working, or if the plugin's configuration is changed, restarting the plugin might avoid
restarting the core application.</p>
<p>In addition, the file size of the binary file is reduced since only its libraries are compiled in the core application.</p>
<p>In addition, only what is actually used is loaded. Plugins that are not required for the application can be deactivated.</p>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Quick-Links</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./Configuration_Plugins.html">Plugins Configuration</a></li>
<li><a href="./Plugin_System.html">Plugin System</a></li>
<li><a href="./Development_Build.html#build-plugins">Building Plugins</a></li>
</ul>
</p>
</div>
</div>
<h2 id="core-application"><a class="header" href="#core-application">Core Application</a></h2>
<p>The core application consists of a few central building blocks. As already mentioned in the introduction, this includes
a built-in graph database.</p>
<p>Based on this, the type system is managed by the core application. This means that in the business logic layer there is
a management service to edit the type system. With the help of these services, new types can be created, queried,
searched for and deleted.</p>
<p>Furthermore, the instance system is managed. Similar to the type system, new instances can be created, queried, searched
for and deleted.</p>
<p>Reactive instances are managed by the reactive instance system with reactive entity instances, reactive relation
instances and reactive flow instances.</p>
<p>Finally, the two main approaches to the Reactive Graph Flow are provided.</p>
<p>One access to the Reactive Graph Flow is the plugin system, which is granted access to the business logic layer of the
core application via the plugin API. Type system and reactive instance system are available to every (Rust) plugin.</p>
<p>Second access is the GraphQL server, which also provides access to the type system and the reactive instance system.</p>
<p>In addition, there are cross-sectional functionalities such as lifecycle management, logging and configuration.</p>
<p>For configurations, TOML should be used as the configuration format wherever possible.</p>
<p>The application should be able to be adapted to the application by means of configuration.</p>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Quick-Links</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API.html">GraphQL API</a></li>
<li><a href="./Plugin_System.html">Plugin API</a></li>
<li><a href="./Model.html">Data Model</a></li>
</ul>
</p>
</div>
</div>
<h2 id="core-application-non-goals"><a class="header" href="#core-application-non-goals">Core Application Non-Goals</a></h2>
<p>This section explains which goals are not pursued in the core application.</p>
<ul>
<li>Commands</li>
<li>Configurations for purposes other than logging, plugins, GraphQL server</li>
<li>System-Variables</li>
<li>Meta data</li>
<li>Implementation of certain reactive behaviors: e.g. logic gates, arithmetic gates</li>
<li>Implementation of game modes, maps, mods</li>
<li>Synchronization</li>
<li>Flow-Editor</li>
<li>Graphics-Rendering</li>
<li>Octree-Editor</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roadmap"><a class="header" href="#roadmap">Roadmap</a></h1>
<p>See <a href="https://github.com/aschaeffer/inexor-rgf-application/milestones">Milestones</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<h2 id="unreleased"><a class="header" href="#unreleased">[Unreleased]</a></h2>
<h3 id="added"><a class="header" href="#added">Added</a></h3>
<ul>
<li>Documentation: Added initial documentation as book (using mdBook)</li>
<li>GraphQL: Navigate from components to entity types and to relation types</li>
<li>GraphQL: Navigate from a property instance to the property type</li>
<li>GraphQL: Shortcut labels</li>
<li>GraphQL: Filter flows by flow type</li>
</ul>
<h3 id="changed"><a class="header" href="#changed">Changed</a></h3>
<ul>
<li>GraphQL: Rename mutation types (Remove prefix GraphQl)</li>
<li>Make extensions a separate type (used in components, entity types and relation types)</li>
<li>GraphQL: Rename type_name to type</li>
<li>GraphQL: Stream property instances in subscriptions instead of handcrafted JSONs</li>
<li>Documentation: Convert code of conduct to markdown</li>
<li>Documentation: Moved changelog into book</li>
</ul>
<h3 id="removed"><a class="header" href="#removed">Removed</a></h3>
<h2 id="050---2021-01-20"><a class="header" href="#050---2021-01-20">[0.5.0] - 2021-01-20</a></h2>
<h3 id="added-1"><a class="header" href="#added-1">Added</a></h3>
<ul>
<li>Extended plugin API (find, import &amp; export)</li>
<li>Search for type names with wildcards</li>
</ul>
<h3 id="changed-1"><a class="header" href="#changed-1">Changed</a></h3>
<ul>
<li>Refactored dependency injection library</li>
<li>Updated dependencies of the dependency injection library</li>
</ul>
<h3 id="removed-1"><a class="header" href="#removed-1">Removed</a></h3>
<ul>
<li>Removed dependencies for faster builds and smaller binaries (#8): <code>actix-http</code>, <code>actix-web</code>, <code>async-std</code>, <code>query_interface</code>, <code>inexor-rgf-core-reactive</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mit-license"><a class="header" href="#mit-license">MIT License</a></h1>
<p>Copyright (c) 2021 by the Inexor Collective</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h1>
<h2 id="our-pledge"><a class="header" href="#our-pledge">Our Pledge</a></h2>
<p>In the interest of fostering an open and welcoming environment, we as
contributors and maintainers pledge to making participation in our project and
our community a harassment-free experience for everyone, regardless of age, body
size, disability, ethnicity, sex characteristics, gender identity and expression,
level of experience, education, socio-economic status, nationality, personal
appearance, race, religion, or sexual identity and orientation.</p>
<h2 id="our-standards"><a class="header" href="#our-standards">Our Standards</a></h2>
<p>Examples of behavior that contributes to creating a positive environment
include:</p>
<ul>
<li>Using welcoming and inclusive language</li>
<li>Being respectful of differing viewpoints and experiences</li>
<li>Gracefully accepting constructive criticism</li>
<li>Focusing on what is best for the community</li>
<li>Showing empathy towards other community members</li>
</ul>
<p>Examples of unacceptable behavior by participants include:</p>
<ul>
<li>The use of sexualized language or imagery and unwelcome sexual attention or advances</li>
<li>Trolling, insulting or derogatory comments, and personal or political attacks</li>
<li>Public or private harassment</li>
<li>Publishing others' private information, such as a physical or electronic address, without explicit permission</li>
<li>Other conduct which could reasonably be considered inappropriate in a professional setting</li>
</ul>
<h2 id="our-responsibilities"><a class="header" href="#our-responsibilities">Our Responsibilities</a></h2>
<p>Project maintainers are responsible for clarifying the standards of acceptable
behavior and are expected to take appropriate and fair corrective action in
response to any instances of unacceptable behavior.</p>
<p>Project maintainers have the right and responsibility to remove, edit, or
reject comments, commits, code, wiki edits, issues, and other contributions
that are not aligned to this Code of Conduct, or to ban temporarily or
permanently any contributor for other behaviors that they deem inappropriate,
threatening, offensive, or harmful.</p>
<h2 id="scope"><a class="header" href="#scope">Scope</a></h2>
<p>This Code of Conduct applies both within project spaces and in public spaces
when an individual is representing the project or its community. Examples of
representing a project or community include using an official project e-mail
address, posting via an official social media account, or acting as an appointed
representative at an online or offline event. Representation of a project may be
further defined and clarified by project maintainers.</p>
<h2 id="enforcement"><a class="header" href="#enforcement">Enforcement</a></h2>
<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported by contacting the project team at <code>info@inexor.org</code>. All
complaints will be reviewed and investigated and will result in a response that
is deemed necessary and appropriate to the circumstances. The project team is
obligated to maintain confidentiality with regard to the reporter of an incident.
Further details of specific enforcement policies may be posted separately.</p>
<p>Project maintainers who do not follow or enforce the Code of Conduct in good
faith may face temporary or permanent repercussions as determined by other
members of the project's leadership.</p>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Attribution</p>
</p>
</div>
<div>
<p>
<p>This Code of Conduct is adapted from the <a href="https://www.contributor-covenant.org">Contributor Covenant</a>, version 1.4,
available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html</p>
<p>For answers to common questions about this code of conduct, see
<a href="https://www.contributor-covenant.org/faq">https://www.contributor-covenant.org/faq</a></p>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-installation"><a class="header" href="#2-installation">2. Installation</a></h1>
<p>For now please follow the <a href="./Development_Build.html">Build Instructions</a>.</p>
<h2 id="linux"><a class="header" href="#linux">Linux</a></h2>
<div class="admonition warning">
<div class="admonition-title">
<p>
<p>TODO</p>
</p>
</div>
<div>
<p>
<p>Describe how to install Inexor Reactive Graph Flow on linux</p>
</p>
</div>
</div>
<h2 id="raspberry-pi"><a class="header" href="#raspberry-pi">Raspberry Pi</a></h2>
<div class="admonition warning">
<div class="admonition-title">
<p>
<p>TODO</p>
</p>
</div>
<div>
<p>
<p>Describe how to install Inexor Reactive Graph Flow on a raspberry pi</p>
</p>
</div>
</div>
<h2 id="windows"><a class="header" href="#windows">Windows</a></h2>
<div class="admonition warning">
<div class="admonition-title">
<p>
<p>TODO</p>
</p>
</div>
<div>
<p>
<p>Describe how to install Inexor Reactive Graph Flow on windows</p>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<ul>
<li><a href="./Configuration_Logging.html">Configure Logging</a></li>
<li><a href="./Configuration_HTTP_GraphQL_Server.html">Configure HTTP / GraphQL Server</a></li>
<li><a href="./Configuration_Plugins.html">Configure Plugins</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configure-logging"><a class="header" href="#configure-logging">Configure Logging</a></h1>
<p>Edit <code>config/logging.toml</code></p>
<h2 id="appender"><a class="header" href="#appender">Appender</a></h2>
<h3 id="stdout"><a class="header" href="#stdout">Stdout</a></h3>
<p>Writes to stdout.</p>
<pre><code class="language-toml">[appenders.stdout]
kind = &quot;console&quot;

[appenders.stdout.encoder]
pattern = &quot;{d(%H:%M:%S%.3f)} [{l}] [{T}] {M}:{L} - {m}{n}\r&quot;
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Documentation of the date format library</p>
</p>
</div>
<div>
<p>
<p><a href="https://docs.rs/chrono/0.4.11/chrono/format/strftime/index.html">Date Formatting Syntax</a></p>
</p>
</div>
</div>
<h3 id="file"><a class="header" href="#file">File</a></h3>
<p>Writes to file.</p>
<pre><code class="language-toml">[appenders.file-application]
kind = &quot;file&quot;
path = &quot;log/inexor-rgf-application.log&quot;

[appenders.file-application.encoder]
pattern = &quot;{d(%Y-%m-%d %H:%M:%S%.3f)} [{l}] [{T}] {M}:{L} - {m}{n}&quot;
</code></pre>
<h2 id="default-log-level"><a class="header" href="#default-log-level">Default log level</a></h2>
<p>Set the default logging level to &quot;debug&quot; and attach the <code>stdout</code> and <code>file-application</code> appender to the root.</p>
<pre><code class="language-toml">[root]
level = &quot;debug&quot;
appenders = [ &quot;stdout&quot;, &quot;file-application&quot; ]
</code></pre>
<h2 id="per-log-levels"><a class="header" href="#per-log-levels">Per Log levels</a></h2>
<p>Set the log level for a specific module:</p>
<pre><code class="language-toml">[loggers.&quot;inexor_rgf_application::implementation::component_manager_impl&quot;]
level = &quot;info&quot;
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Documentation of the logging library</p>
</p>
</div>
<div>
<p>
<p><a href="https://docs.rs/log4rs/1.0.0/log4rs/">How to configure the loggers</a></p>
</p>
</div>
</div>
<h2 id="additive"><a class="header" href="#additive">Additive</a></h2>
<p>Route log events sent to the <code>inexor_rgf_plugin_mqtt::behaviour::relation::mqtt_subscribes</code> logger
to the <code>file-plugin-mqtt</code> appender, and <em>not</em> the normal appenders installed at the root.</p>
<pre><code class="language-toml">[loggers.&quot;inexor_rgf_plugin_mqtt::behaviour::relation::mqtt_subscribes&quot;]
level = &quot;debug&quot;
appenders = [ &quot;file-plugin-mqtt&quot; ]
additive = false
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configure-httpgraphql-server"><a class="header" href="#configure-httpgraphql-server">Configure HTTP/GraphQL server</a></h1>
<ol>
<li>Edit <code>config/graphql.toml</code></li>
</ol>
<h2 id="bind-address-and-port"><a class="header" href="#bind-address-and-port">Bind address and port</a></h2>
<p>Configure the bind address and port:</p>
<pre><code class="language-toml">hostname = &quot;localhost&quot;
port = 31415
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Hostname</p>
</p>
</div>
<div>
<p>
<p>If you bind on localhost the GraphQL server is not reachable from outside. Use the hostname or ip which is
reachable from outside.</p>
</p>
</div>
</div>
<h2 id="shutdown-timeout"><a class="header" href="#shutdown-timeout">Shutdown timeout</a></h2>
<p>The following setting Timeout for graceful worker shutdown in seconds.</p>
<p>After receiving a stop signal, workers have this much time to finish serving requests. Workers
still alive after the timeout are force dropped. By default, shutdown timeout is set to 30 seconds.</p>
<pre><code class="language-toml">shutdown_timeout = 3
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Development</p>
</p>
</div>
<div>
<p>
<p>If you have to restart often during development, set this to a low value.</p>
</p>
</div>
</div>
<h2 id="number-of-workers"><a class="header" href="#number-of-workers">Number of workers</a></h2>
<p>This setting specifies the number of worker threads. The default number of worker threads is the
number of physical CPU cores available.</p>
<pre><code class="language-toml">workers = 16
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configure-plugins"><a class="header" href="#configure-plugins">Configure Plugins</a></h1>
<p>Edit <code>config/plugins.toml</code></p>
<div class="admonition bug">
<div class="admonition-title">
<p>
<p>Order of initialization</p>
</p>
</div>
<div>
<p>
<p>The plugins are initialized in the order of definition!</p>
</p>
</div>
</div>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Deactive plugins</p>
</p>
</div>
<div>
<p>
<p>You can activate or deactivate plugins with the setting <code>active</code>. Remember that some plugins depend on
other plugins.</p>
</p>
</div>
</div>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Path</p>
</p>
</div>
<div>
<p>
<p>The path can be either relative to the working directory or absolute.</p>
</p>
</div>
</div>
<h2 id="linux-1"><a class="header" href="#linux-1">Linux</a></h2>
<pre><code class="language-toml">[[plugin]]
name = &quot;inexor-rgf-plugin-base&quot;
active = true
path = &quot;../inexor-rgf-plugin-base/target/debug/libinexor_rgf_plugin_base.so&quot;

[[plugin]]
name = &quot;inexor-rgf-plugin-mqtt&quot;
active = true
path = &quot;../inexor-rgf-plugin-mqtt/target/debug/libinexor_rgf_plugin_mqtt.so&quot;
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Please note</p>
</p>
</div>
<div>
<p>
<ul>
<li>The filename of the linked library is prefixed with <code>lib</code></li>
<li>On linux the file extension is <code>.so</code></li>
<li>The path separators are forward slashes <code>/</code></li>
</ul>
</p>
</div>
</div>
<h2 id="windows-1"><a class="header" href="#windows-1">Windows</a></h2>
<pre><code class="language-toml">[[plugin]]
name = &quot;inexor-rgf-plugin-base&quot;
active = true
path = &quot;..\\inexor-rgf-plugin-base\\target\\debug\\inexor_rgf_plugin_base.dll&quot;

[[plugin]]
name = &quot;inexor-rgf-plugin-mqtt&quot;
active = true
path = &quot;..\\inexor-rgf-plugin-mqtt\\target/debug\\inexor_rgf_plugin_mqtt.dll&quot;
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Please note</p>
</p>
</div>
<div>
<p>
<ul>
<li>The filename of the linked library is <strong>not</strong> prefixed with <code>lib</code></li>
<li>On Windows the file extension is <code>.dll</code></li>
<li>The path separators are backslashes and <strong>must be escaped</strong> <code>\\</code></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model"><a class="header" href="#model">Model</a></h1>
<p>The data model of Inexor Reactive Graph Flow can be divided into the type system and the instance system.</p>
<h2 id="type-system"><a class="header" href="#type-system">Type System</a></h2>
<p>The type system is similar to type systems in programming languages. An object is of a specific, previously defined
type.</p>
<p>The type says something about the semantic meaning. For example, just looking at the type name gives you an idea of what
a &quot;player&quot; or a &quot;camera&quot; is, for example.</p>
<p>The type system also specifies the data model of such a semantic object. For example, a player has a name, is in a
position, and you know how many frags he has scored. Therefore, it is defined that a player should have a property
called &quot;name&quot;.</p>
<p>Types are also related to each other. For example, a teleport entrance has one or more teleport exits. This relationship
between the teleport input type and the teleport output type is called a relation type. The relation type also has a
semantic meaning. In this case, the relation type &quot;teleports_to&quot; means that a player who is directly at the teleport
entrance should be teleported to the teleport exit.</p>
<p>Another example is a team that has one player as a member. There is a relation type called &quot;is_member_of&quot; that leads
from the entity type team to the entity type relation. Note the direction of the relation type.</p>
<p>This becomes even more relevant when there can be multiple distinct relationships between two entity types. A player can
be a member of a team and he can be the team captain at the same time. The first type of relationship has already been
described, the second has the name &quot;is_captain_of&quot;.</p>
<h3 id="er-diagram"><a class="header" href="#er-diagram">ER Diagram</a></h3>
<pre class="mermaid">erDiagram
    Relation-Type
    Entity-Type
    Extension
    Component
    Property-Type
    Relation-Type ||--}o Component : composes
    Relation-Type o{--|| Entity-Type : outbound
    Relation-Type o{--|| Entity-Type : inbound
    Entity-Type ||--}o Component : composes
    Relation-Type ||--}o Property-Type : defines
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
    Component ||--}o Property-Type : defines
    Relation-Type ||--}o Extension : has
    Entity-Type ||--}o Extension : has
    Property-Type ||--}o Extension : has
</pre>
<h3 id="example-relation-type"><a class="header" href="#example-relation-type">Example: Relation Type</a></h3>
<pre class="mermaid">graph LR
    E1(Entity Type&lt;br&gt;Teleporter)
    E2(Entity Type&lt;br&gt;Teledestination)
    R1(Relation Type&lt;br&gt;Teleports_To)
    E1---&gt;|outbound|R1
    R1---&gt;|inbound|E2
</pre>
<h3 id="example-relation-types--entity-types"><a class="header" href="#example-relation-types--entity-types">Example: Relation Types &amp; Entity Types</a></h3>
<pre class="mermaid">graph TB
    P(Player)
    C(Camera)
    F(Flag)
    T(Team)
    B(Base)
    S(Playerstart)
    C---&gt;|looks_at|P
    C---&gt;|looks_at|F
    C---&gt;|looks_at|B
    P---&gt;|is_member_of|T
    P---&gt;|frags|P
    T---&gt;|is_located_at|B
    T---&gt;|owns|F
    B---&gt;|provides|S
    P---&gt;|has_spawned_at|S
</pre>
<h2 id="instance-system"><a class="header" href="#instance-system">Instance System</a></h2>
<p>Having described the type system, this section describes the instance system.</p>
<p>The type system describes what could exist.</p>
<p>A type defines how an instance should look like. An instance itself fills this type with life. There can be any number
of instances of a type. For example, there is the player named &quot;peter&quot; and the player named &quot;penacka&quot;. In this case
there are two instances of the same type.</p>
<p>The following table shows that an instance and the corresponding type:</p>
<table><thead><tr><th>Type</th><th>Instance</th></tr></thead><tbody>
<tr><td>Entity Type</td><td>Entity Instance</td></tr>
<tr><td>Relation Type</td><td>Relation Instance</td></tr>
<tr><td>Entity Type</td><td>Flow</td></tr>
</tbody></table>
<pre class="mermaid">erDiagram
    Relation-Type
    Relation-Instance
    Entity-Type
    Entity-Instance
    Flow
    Relation-Instance o{--|| Relation-Type : is_a
    Entity-Instance o{--|| Entity-Type : is_a
    Flow o{--|| Entity-Type : is_a
</pre>
<h3 id="example-relation-instances--entity-instances"><a class="header" href="#example-relation-instances--entity-instances">Example: Relation Instances &amp; Entity Instances</a></h3>
<pre class="mermaid">graph TB
    P1(Player 1)
    P2(Player 2)
    C1(Camera 1)
    C2(Camera 2)
    F1(Flag 1)
    F2(Flag 2)
    F3(Flag 3)
    F4(Flag 4)
    T1(Team Good)
    T2(Team Evil)
    B1(Base Good)
    B2(Base Evil)
    ST11(Playerstart Good 1)
    ST12(Playerstart Good 2)
    ST21(Playerstart Evil 1)
    ST22(Playerstart Evil 2)
    C1---&gt;|looks_at|P1
    C2---&gt;|looks_at|F2
    P1---&gt;|is_member_of|T1
    P2---&gt;|is_member_of|T2
    P1---&gt;|fragged|P2
    P2---&gt;|fragged|P1
    T1---&gt;|is_located_at|B1
    T2---&gt;|is_located_at|B2
    T1---&gt;|owns|F1
    T1---&gt;|owns|F2
    T2---&gt;|owns|F3
    T2---&gt;|owns|F4
    B1---&gt;|provides|ST11
    B1---&gt;|provides|ST12
    B2---&gt;|provides|ST21
    B2---&gt;|provides|ST22
    P1---&gt;|has_spawned_at|ST11
    P2---&gt;|has_spawned_at|ST22
    P1---&gt;|stole|F3
    P2---&gt;|stole|F2
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-component"><a class="header" href="#model-component">Model: Component</a></h1>
<p>A component is a reusable building block for entity types and relation types. A component semantically represents an
aspect of one or more entity types or relation types.</p>
<p>For example, the component &quot;named&quot; represents that something has a name. In practice, the component has a property
called &quot;name&quot; which contains the name. The &quot;named&quot; component can be used in a wide variety of cases. For example, a
player has a name, a server has a name, and a player model also has a name. Apart from the name, they have little in
common.</p>
<p>A component should provide at least one property. However, it is also possible to define several properties.</p>
<p>Another example is the &quot;position&quot; component, which defines the x, y, and z coordinates. Again, this is a perfect example
of a Component. Because all things in a 3D world have a position. A player has a position, a camera, a flag or a light
each have a position. But here, too, they have little in common. And yet they have at least one thing in common.</p>
<p>A player has a name and a position, i.e. an entity type (just like a relation type) can consist of several components.
The properties of all components are merged.</p>
<h2 id="data-model"><a class="header" href="#data-model">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td>Name</td><td>String</td><td>The name of the component</td><td>labeled</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the component</td><td>The label is an hierarchical path with static segments, named parameters and catch-all parameters.</td></tr>
<tr><td>Properties</td><td>Vec&lt;<a href="./Model_Property_Type.html">Property Type</a>&gt;</td><td>The properties which are applied on entity or relation instances.</td><td></td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
</tbody></table>
<h2 id="er-diagram-1"><a class="header" href="#er-diagram-1">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Component {
        string name
        string description
    }
    Property-Type {
        string name
        string description
    }
    Extension {
        string name
        JSON extension
    }
    Component ||--}o Property-Type : defines
    Property-Type ||--}o Extension : has
    Entity-Type o{--}o Component : composes
    Relation-Type o{--}o Component : composes
</pre>
<h2 id="graphql"><a class="header" href="#graphql">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Components.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-entity-type"><a class="header" href="#model-entity-type">Model: Entity Type</a></h1>
<p>An entity type defines the characteristics that are common to all entity instances. In particular, an entity type
defines which components it is combined from. Additional properties can also be defined.</p>
<h2 id="data-model-1"><a class="header" href="#data-model-1">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td>Name</td><td>String</td><td>The name of the entity type</td><td>player</td></tr>
<tr><td>Group</td><td>String</td><td>The group of the entity type</td><td>logical_gates</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the entity type</td><td></td></tr>
<tr><td>Components</td><td>Vec&lt;<a href="./Model_Component.html">Component</a>&gt;</td><td>The components which composes the entity type. These provides additional properties</td><td></td></tr>
<tr><td>Properties</td><td>Vec&lt;<a href="./Model_Property_Type.html">Property Type</a>&gt;</td><td>The additional properties on entity instances</td><td></td></tr>
<tr><td>Extensions</td><td>Vec&lt;<a href="./Model_Extension.html">Extension</a>&gt;</td><td>A list of extensions which contains additional information</td><td></td></tr>
</tbody></table>
<h2 id="er-diagram-2"><a class="header" href="#er-diagram-2">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Entity-Type {
        string name
        string group
        string description
    }
    Entity-Instance {
        string id
        string label
        string description
    }
    Extension {
        string name
        JSON extension
    }
    Component {
        string name
        string description
    }
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Relation-Type {
        string name
        string fullname
        string group
        string description
    }
    Entity-Type o{--}o Component : composes
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
    Component ||--}o Property-Type : defines
    Entity-Type ||--}o Relation-Type : outbound
    Entity-Type ||--}o Relation-Type : inbound
    Relation-Type o{--}o Component : composes
    Entity-Type ||--}o Extension : has
    Relation-Type ||--}o Extension : has
    Property-Type ||--}o Extension : has
    Entity-Instance ||--}o Entity-Type : is-a
</pre>
<h2 id="graphql-1"><a class="header" href="#graphql-1">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Entity_Types.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-relation-type"><a class="header" href="#model-relation-type">Model: Relation Type</a></h1>
<p>A relation type defines the characteristics that are common to all relation instances. In particular, a relation type
defines the <a href="./Model_Entity_Type.html">entity type</a> of the <strong>outbound entity instance</strong> and the entity type of the
<strong>inbound entity instance</strong>.</p>
<p>Like entity types, it is also defined which <a href="./Model_Component.html">components</a> make up the relation type and which
additional <a href="./Model_Property_Type.html">properties</a> it contains.</p>
<p>As with entity types, extensions to the relation type can be defined, such as the appearance of edges in a graph or the
appearance of a connector of this type in the flow editor.</p>
<h2 id="data-model-2"><a class="header" href="#data-model-2">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th></tr></thead><tbody>
<tr><td>Outbound Type</td><td><a href="./Model_Entity_Type.html">EntityType</a></td><td>The entity type of the outbound entity instance</td></tr>
<tr><td>Name</td><td>String</td><td>The name of the relation type</td></tr>
<tr><td>Full Name</td><td>String</td><td>The full name of the relation type</td></tr>
<tr><td>Inbound Type</td><td><a href="./Model_Entity_Type.html">EntityType</a></td><td>The entity type of the inbound entity instance</td></tr>
<tr><td>Group</td><td>String</td><td>The group of the relation type</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the entity type</td></tr>
<tr><td>Components</td><td>Vec&lt;<a href="./Model_Component.html">Component</a>&gt;</td><td>The components which composes the relation type. These provides additional properties</td></tr>
<tr><td>Properties</td><td>Vec&lt;<a href="./Model_Property_Type.html">Property Type</a>&gt;</td><td>The additional properties on relation instances</td></tr>
<tr><td>Extensions</td><td>Vec&lt;<a href="./Model_Extension.html">Extension</a>&gt;</td><td>A list of extensions which contains additional information</td></tr>
</tbody></table>
<h2 id="graph-1"><a class="header" href="#graph-1">Graph</a></h2>
<pre class="mermaid">graph LR;
    A(Outbound Entity Type)===&gt;|&quot;Relation Type&quot;|B(Inbound Entity Type);
</pre>
<h2 id="er-diagram-3"><a class="header" href="#er-diagram-3">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Relation-Type {
        string name
        string fullname
        string group
        string description
    }
    Entity-Type {
        string name
        string group
        string description
    }
    Relation-Instance {
        string uuid
    }
    Extension {
        string name
        JSON extension
    }
    Component {
        string name
        string description
    }
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Relation-Type ||--}o Component : composes
    Relation-Type o{--|| Entity-Type : outbound
    Relation-Type o{--|| Entity-Type : inbound
    Entity-Type ||--}o Component : composes
    Relation-Type ||--}o Property-Type : defines
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
    Component ||--}o Property-Type : defines
    Relation-Type ||--}o Extension : has
    Entity-Type ||--}o Extension : has
    Property-Type ||--}o Extension : has
    Relation-Instance o{--|| Relation-Type : is-a
</pre>
<h2 id="graphql-2"><a class="header" href="#graphql-2">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Relation_Types.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-property-type"><a class="header" href="#model-property-type">Model: Property Type</a></h1>
<p>Components, entity types and relation types define which properties they contain. The so-called property types define
the name, the data type and whether the property is an input or an output.</p>
<h2 id="data-model-3"><a class="header" href="#data-model-3">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td>Name</td><td>String</td><td>The name of the property</td><td>name</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the property</td><td></td></tr>
<tr><td>DataType</td><td>DataType</td><td>The data type of the property</td><td></td></tr>
<tr><td>SocketType</td><td>SocketType</td><td>The socket type</td><td></td></tr>
<tr><td>Extensions</td><td>Vec&lt;<a href="./Model_Extension.html">Extension</a>&gt;</td><td>The extensions contains additional information about the property type</td><td></td></tr>
</tbody></table>
<h2 id="er-diagram-4"><a class="header" href="#er-diagram-4">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Extension {
        string name
        JSON extension
    }
    Property-Type ||--}o Extension : has
    Component ||--}o Property-Type : defines
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
</pre>
<h2 id="enum-data-type"><a class="header" href="#enum-data-type">Enum Data Type</a></h2>
<p>A property has a data type. This is derived from serde_json::Value and maps JSON values or documents.</p>
<table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody>
<tr><td>Null</td><td>Represents a JSON null value</td></tr>
<tr><td>Bool</td><td>Represents a JSON boolean</td></tr>
<tr><td>Number</td><td>Represents a JSON number, whether integer or floating point</td></tr>
<tr><td>String</td><td>Represents a JSON string</td></tr>
<tr><td>Array</td><td>Represents a JSON array.</td></tr>
<tr><td>Object</td><td>Represents a JSON object.</td></tr>
<tr><td>Any</td><td>Represents any type (relations)</td></tr>
</tbody></table>
<h2 id="enum-socket-type"><a class="header" href="#enum-socket-type">Enum Socket Type</a></h2>
<p>The socket type determines whether a property serves as an input or an output. It is also possible that a property is
neither an input nor an output. Caution: At runtime, it is not prevented if an input is used as an output or an output
is used as an input.</p>
<table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody>
<tr><td>None</td><td>The property doesn't act as input or output socket</td></tr>
<tr><td>Input</td><td>The property acts as input socket and accepts incoming connections</td></tr>
<tr><td>Output</td><td>The property acts as output socket and accepts outgoing connections</td></tr>
</tbody></table>
<h2 id="where-is-the-value"><a class="header" href="#where-is-the-value">Where is the value???</a></h2>
<p>A property type only contains the definition of a property, but no data, since it is a type.</p>
<p>When an entity instance or a relation instance is created, the property types are used to create
<a href="./Model_Property_Instance.html">property instances</a>. The property instances then contain a data stream and the last
value.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-extension"><a class="header" href="#model-extension">Model: Extension</a></h1>
<p>There is information about a type that is useful for certain cases, but at the same time is not needed in every case.
The data model of the types should remain lean and not be overloaded. Nevertheless, future changes and new
functionalities should be made possible. However, this should be done in a way without becoming incompatible. This
extended information is called extensions.</p>
<p>An extension consists of two fields. On the one hand the name of the extension and on the other hand a field with
unstructured data in JSON format. This means that the data model of the extension is not specified. At the same time,
however, it is possible to provide any conceivable information. Because a JSON value is used, any complex and nested
information is possible. It is possible to deserialize the JSON value into a concrete data model.</p>
<p>An example of an extension is the information on how a flow editor should draw a shape of an entity type. The extension
is called &quot;flow_shape&quot; and contains information about the color, size, label and alignment of the shape. This example
shows that an extension can potentially contain very complex data structures and at the same time that an extension
covers a case that is not relevant in all cases. For example, if the &quot;Flow Editor&quot; plugin is not installed or not
activated, the extension is present but not used.</p>
<h2 id="data-model-4"><a class="header" href="#data-model-4">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th></tr></thead><tbody>
<tr><td>Name</td><td>String</td><td>The name of the extension</td></tr>
<tr><td>Extension</td><td>JSON</td><td>The extension as schema-less JSON.</td></tr>
</tbody></table>
<h2 id="er-diagram-5"><a class="header" href="#er-diagram-5">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Extension {
        string name
        JSON extension
    }
    Entity-Type ||--}o Extension : has
    Relation-Type ||--}o Extension : has
    Property-Type ||--}o Extension : has
</pre>
<h2 id="list-of-known-extensions"><a class="header" href="#list-of-known-extensions">List of known extensions</a></h2>
<table><thead><tr><th>Extension</th><th>Description</th></tr></thead><tbody>
<tr><td>dublin-core</td><td>Meta data</td></tr>
<tr><td>flow_editor_palette</td><td>An entry for the palette of the flow editor</td></tr>
<tr><td>flow_editor_shape</td><td>Definition of the shape of an entity instance in the flow editor</td></tr>
<tr><td>type_graph_shape</td><td>Definition of the shape of an entity type in the type graph</td></tr>
<tr><td>instance_graph_shape</td><td>Definition of the shape of an entity instance of in the instance graph</td></tr>
</tbody></table>
<h2 id="extension-dublin_core"><a class="header" href="#extension-dublin_core">Extension <code>dublin_core</code></a></h2>
<pre><code class="language-json">    {
      &quot;name&quot;: &quot;dublin-core&quot;,
      &quot;extension&quot;:{
        &quot;title&quot;: &quot;Decrement number&quot;,
        &quot;subject&quot;: &quot;Decrement number&quot;,
        &quot;creator&quot;: &quot;Hanack&quot;
      }
    }
</code></pre>
<h2 id="extension-flow_editor_palette"><a class="header" href="#extension-flow_editor_palette">Extension <code>flow_editor_palette</code></a></h2>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;flow_editor_palette&quot;,
  &quot;extension&quot;: {
    &quot;content&quot;: &quot;Decrement&quot;,
    &quot;styles&quot;: {
      &quot;font-family&quot;: &quot;Fira Code&quot;,
      &quot;font-size&quot;: &quot;12px&quot;,
      &quot;padding&quot;: &quot;5px&quot;
    }
  }
}
</code></pre>
<h2 id="extension-flow_editor_shape"><a class="header" href="#extension-flow_editor_shape">Extension <code>flow_editor_shape</code></a></h2>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;flow_editor_shape&quot;,
  &quot;extension&quot;: {
    &quot;width&quot;: 200,
    &quot;socket&quot;: {
      &quot;width&quot;: 60,
      &quot;height&quot;: 30,
      &quot;offset&quot;: 5
    },
    &quot;offset&quot;: {
      &quot;top&quot;: &quot;socket.height&quot;,
      &quot;bottom&quot;: &quot;socket.height&quot;
    },
    &quot;elements&quot;: {
      &quot;title&quot;: {
        &quot;show&quot;: true,
        &quot;type&quot;: &quot;text&quot;,
        &quot;content&quot;: &quot;element.description&quot;,
        &quot;position&quot;: {
          &quot;left&quot;: 0,
          &quot;top&quot;: 0,
          &quot;width&quot;: &quot;shape.width&quot;,
          &quot;height&quot;: &quot;socket.height&quot;
        },
        &quot;styles&quot;: {
          &quot;font-size&quot;: &quot;12px&quot;,
          &quot;color&quot;: &quot;black&quot;
        }
      },
      &quot;symbol&quot;: {
        &quot;show&quot;: true,
        &quot;type&quot;: &quot;text&quot;,
        &quot;content&quot;: &quot;--&quot;,
        &quot;position&quot;: {
          &quot;left&quot;: 0,
          &quot;top&quot;: 0,
          &quot;width&quot;: &quot;shape.width&quot;,
          &quot;height&quot;: &quot;shape.height&quot;
        },
        &quot;styles&quot;: {
          &quot;fill&quot;: &quot;steelblue&quot;,
          &quot;font-size&quot;: &quot;80px&quot;,
          &quot;font-family&quot;: &quot;Fira Code&quot;
        }
      },
      &quot;id&quot;: {
        &quot;show&quot;: true,
        &quot;type&quot;: &quot;text&quot;,
        &quot;content&quot;: &quot;shape.id&quot;,
        &quot;position&quot;: {
          &quot;left&quot;: 0,
          &quot;top&quot;: &quot;shape.height-socket.height&quot;,
          &quot;width&quot;: &quot;shape.width&quot;,
          &quot;height&quot;: &quot;socket.height&quot;
        },
        &quot;styles&quot;: {
          &quot;font-size&quot;: &quot;9px&quot;,
          &quot;color&quot;: &quot;black&quot;
        }
      }
    }
  }
}
</code></pre>
<h2 id="graphql-3"><a class="header" href="#graphql-3">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Extension.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-entity-instance"><a class="header" href="#model-entity-instance">Model: Entity Instance</a></h1>
<p>An entity instance is an object with characteristics that is of a specific entity type. An entity instance contains a
<a href="./Model_Property_Instance.html">property instance</a> for each property type defined either in the entity type or in one of
the entity type's components.</p>
<p>In contrast to entity types, property instances are contained and each property instance contains a data stream and its
last value.</p>
<h2 id="uuids"><a class="header" href="#uuids">UUIDs</a></h2>
<p>Entity instances can be uniquely identified via a UUID. This is particularly important when entity instances are
synchronized in a distributed system. For example, a player's representation exists not only in the local client, but
also on the server and on clients connected to it.</p>
<h2 id="labels"><a class="header" href="#labels">Labels</a></h2>
<p>Labels are also unique, but optional. While UUIDs are hard to remember, labels are easier to remember. This allows
entity instances to be addressed using labels, for example in GraphQL queries.</p>
<p>If you compare the query with and without a label, you will find that the query is easier to understand thanks to the
label and transports significantly more information about what is actually happening.</p>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Info</p>
</p>
</div>
<div>
<p>
<p>Labels are optional</p>
</p>
</div>
</div>
<pre><code class="language-graphql">query {
  instances {
    entities(label: &quot;/org/inexor/input/any_device/key/key_f7&quot;) {
      properties(name: &quot;key_down&quot;) {
        value
      }
    }
  }
}
</code></pre>
<pre><code class="language-graphql">query {
  instances {
    entities(id: &quot;c7ec76e0-40e8-587e-bc89-e9cd31fa75a0&quot;) {
      properties(name: &quot;key_down&quot;) {
        value
      }
    }
  }
}
</code></pre>
<h2 id="data-model-5"><a class="header" href="#data-model-5">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th></tr></thead><tbody>
<tr><td>Type</td><td><a href="./Model_Entity_Type.html">EntityType</a></td><td>The type of the entity instance</td></tr>
<tr><td>ID</td><td>UUID</td><td>The unique identifier of the entity instance</td></tr>
<tr><td>Label</td><td>String (optional)</td><td>The label of the entity instance</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the entity type</td></tr>
<tr><td>Properties</td><td>Vec&lt;<a href="./Model_Property_Instance.html">Property Instance</a>&gt;</td><td>The properties of the entity instance</td></tr>
</tbody></table>
<h2 id="graph-2"><a class="header" href="#graph-2">Graph</a></h2>
<pre class="mermaid">graph LR;
    EI(Entity Instance);
    I1(Entity Instance)===&gt;|&quot;Relation Instance&quot;|EI;
    I2(Entity Instance)===&gt;|&quot;Relation Instance&quot;|EI;
    I3(Entity Instance)===&gt;|&quot;Relation Instance&quot;|EI;
    EI===&gt;|&quot;Relation Instance&quot;|O1(Entity Instance);
    EI===&gt;|&quot;Relation Instance&quot;|O2(Entity Instance);
    EI===&gt;|&quot;Relation Instance&quot;|O3(Entity Instance);
</pre>
<h2 id="er-diagram-6"><a class="header" href="#er-diagram-6">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Entity-Type {
        string name
        string group
        string description
    }
    Entity-Instance {
        string id
        string label
        string description
    }
    Relation-Type {
        string name
        string fullname
        string group
        string description
    }
    Relation-Instance {
        string name
        string fullname
        string group
        string description
    }
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Property-Instance {
        string name
        JSON value
    }
    Entity-Instance ||--}o Property-Instance : stores
    Entity-Instance o{--}o Relation-Instance : outbound
    Entity-Instance o{--}o Relation-Instance : inbound
    Relation-Instance ||--}o Property-Instance : stores
    Relation-Instance o{--|| Relation-Type : is-a
    Property-Instance o{--|| Property-Type : is-a
    Entity-Instance o{--|| Entity-Type : is-a
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
    Entity-Type ||--}o Relation-Type : outbound
    Entity-Type ||--}o Relation-Type : inbound
</pre>
<h2 id="graphql-4"><a class="header" href="#graphql-4">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Entity_Instances.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-relation-instance"><a class="header" href="#model-relation-instance">Model: Relation Instance</a></h1>
<p>A relation instance is a connection between an outbound <a href="./Model_Entity_Instance.html">entity instance</a> and an inbound
entity instance. The relation instance has a type, the relation type. The <a href="./Model_Relation_Type.html">relation type</a>
defines which entity type the outbound entity type and which entity type the inbound entity type must have.</p>
<h2 id="data-model-6"><a class="header" href="#data-model-6">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th></tr></thead><tbody>
<tr><td>Outbound</td><td><a href="./Model_Entity_Instance.html">EntityInstance</a></td><td>The outbound entity instance</td></tr>
<tr><td>Type</td><td><a href="./Model_Relation_Type.html">RelationType</a></td><td>The relation type</td></tr>
<tr><td>Inbound</td><td><a href="./Model_Entity_Instance.html">EntityInstance</a></td><td>The inbound entity instance</td></tr>
<tr><td>Description</td><td>String</td><td>Textual description of the relation instance</td></tr>
<tr><td>Properties</td><td>Vec&lt;<a href="./Model_Property_Instance.html">Property Instance</a>&gt;</td><td>The properties</td></tr>
</tbody></table>
<h2 id="graph-3"><a class="header" href="#graph-3">Graph</a></h2>
<pre class="mermaid">graph LR;
    A(Outbound Entity Instance)===&gt;|&quot;Relation Instance&quot;|B(Inbound Entity Instance);
</pre>
<h2 id="er-diagram-7"><a class="header" href="#er-diagram-7">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Entity-Type {
        string name
        string group
        string description
    }
    Entity-Instance {
        string id
        string label
        string description
    }
    Relation-Type {
        string name
        string fullname
        string group
        string description
    }
    Relation-Instance {
        string name
        string fullname
        string group
        string description
    }
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Property-Instance {
        string name
        JSON value
    }
    Entity-Instance ||--}o Property-Instance : stores
    Entity-Instance o{--}o Relation-Instance : outbound
    Entity-Instance o{--}o Relation-Instance : inbound
    Relation-Instance ||--}o Property-Instance : stores
    Relation-Instance o{--|| Relation-Type : is-a
    Property-Instance o{--|| Property-Type : is-a
    Entity-Instance o{--|| Entity-Type : is-a
    Entity-Type ||--}o Property-Type : defines
    Relation-Type ||--}o Property-Type : defines
    Entity-Type ||--}o Relation-Type : outbound
    Entity-Type ||--}o Relation-Type : inbound
</pre>
<h2 id="graphql-5"><a class="header" href="#graphql-5">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Relation_Instances.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-property-instance"><a class="header" href="#model-property-instance">Model: Property Instance</a></h1>
<p>A property instance is a data stream. The current value of the property instance can be queried. Data streams can be
connected to each other (both within an instance and to data streams from property instances of other entity or relation
instances).</p>
<p>The property type defines the name, data type and socket type of the property instance.</p>
<h2 id="data-model-7"><a class="header" href="#data-model-7">Data Model</a></h2>
<table><thead><tr><th>Field</th><th>DataType</th><th>Description</th></tr></thead><tbody>
<tr><td>Name</td><td>String</td><td>The name of the property</td></tr>
<tr><td>Value</td><td><a href="https://docs.serde.rs/serde_json/value/enum.Value.html">Value</a></td><td>The value of the property</td></tr>
<tr><td>Type</td><td><a href="./Model_Property_Type.html">Property Type</a></td><td>The type of the property</td></tr>
</tbody></table>
<h2 id="graph-4"><a class="header" href="#graph-4">Graph</a></h2>
<pre class="mermaid">graph TD;
    PI1(Property Instance);
    PI2(Property Instance);
    PI3(Property Instance);
    EI(Entity Instance)---&gt;PI1;
    EI(Entity Instance)---&gt;PI2;
    EI(Entity Instance)---&gt;PI3;
</pre>
<h2 id="er-diagram-8"><a class="header" href="#er-diagram-8">ER Diagram</a></h2>
<pre class="mermaid">erDiagram
    Property-Type {
        string name
        string description
        enum DataType
        enum SocketType
    }
    Property-Instance {
        string name
        string value
    }
    Entity-Instance {
        string id
        string label
        string description
    }
    Relation-Instance {
        string name
        string fullname
        string group
        string description
    }
    Property-Type ||--}o Property-Instance : is-a
    Entity-Instance ||--}o Property-Instance : stores
    Entity-Instance o{--}o Relation-Instance : outbound
    Entity-Instance o{--}o Relation-Instance : inbound
    Relation-Instance ||--}o Property-Instance : stores
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-flow"><a class="header" href="#model-flow">Model: Flow</a></h1>
<h2 id="what-is-a-flow-1"><a class="header" href="#what-is-a-flow-1">What is a flow?</a></h2>
<p>A flow is a collection of entity instances and relation instances. Most of the time, a flow serves a specific purpose.</p>
<h2 id="wrapper-entity-instance"><a class="header" href="#wrapper-entity-instance">Wrapper Entity Instance</a></h2>
<p>A flow is itself an entity instance. The properties of the entity instance can be viewed as inputs and outputs for the
entire flow. The entity instance which is the flow is called <code>wrapper entity instance</code>.</p>
<pre class="mermaid">graph LR;
    F(Flow = Entity Instance);
    IPI1(Input Property Instance)===&gt;F;
    IPI2(Input Property Instance)===&gt;F;
    IPI3(Input Property Instance)===&gt;F;
    F===&gt;OPI1(Output Property Instance);
    F===&gt;OPI2(Output Property Instance);
    F===&gt;OPI3(Output Property Instance);
</pre>
<h2 id="nested-flows"><a class="header" href="#nested-flows">Nested Flows</a></h2>
<p>Flows are nestable. That is, an entity instance that is itself a flow can be used in another flow. These nested flows
can be thought of as subprograms or sub flows. The input properties of the subflow can be considered as parameters of the
subprogram and the output properties of the subflow can be considered as the function result of the subprogram.</p>
<p>An entity instance can exist in several flows at the same time. For example, a TOML configuration loaded into an entity
instance can be used in multiple flows.</p>
<h3 id="nested-flow-example"><a class="header" href="#nested-flow-example">Nested Flow Example</a></h3>
<pre class="mermaid">graph LR;
    subgraph Outer-Flow
        direction LR
        E1(Entity Instance);
        E2(Entity Instance);
        E3(Entity Instance);
        E4(Entity Instance);
        E5(Entity Instance);
        E1---&gt;|connector|IF1E1
        E4---&gt;|connector|IF1E1
        E4---&gt;|connector|E5
        subgraph Inner-Flow-1
            direction LR
            IF1E1--&gt;|connector|IF1E2
        end
        IF1E2---&gt;E2
        E2---&gt;|connector|IF2E1
        E5---&gt;|connector|IF2E1
        subgraph Inner-Flow-2
            direction LR
            IF2E1--&gt;|connector|IF2E2
        end
        IF2E2---&gt;|connector|E3
    end
</pre>
<h2 id="graphql-6"><a class="header" href="#graphql-6">GraphQL</a></h2>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>GraphQL</p>
</p>
</div>
<div>
<p>
<ul>
<li><a href="./GraphQL_API_Flows.html">GraphQL Queries and Mutations</a></li>
</ul>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="graphql-api"><a class="header" href="#graphql-api">GraphQL API</a></h1>
<p>GraphQL is the most important interface for interaction with the Reactive Graph Flow.</p>
<h2 id="what-is-graphql"><a class="header" href="#what-is-graphql">What is GraphQL?</a></h2>
<p>GraphQL stands for &quot;Graph Query Language&quot;. It is a query language with which data present in graphs can be efficiently
queried and selectively modified.</p>
<h2 id="why-do-we-use-graphql"><a class="header" href="#why-do-we-use-graphql">Why do we use GraphQL?</a></h2>
<p>As already described, Inexor uses a graph to hold the highly interconnected data of the Entity Component System. A query
language like GraphQL allows navigating on this graph. For example, it is possible to navigate from an entity instance
to its entity type. It is best described by the three graphics that show the possibilities available through the GraphQL
interface.</p>
<p>GraphQL was chosen as the query language because it is independent of a specific programming language and because it can
be used across technologies.</p>
<p>GraphQL also supports subscribing to change to data. This is also the case, for example, in the reactive property
instances. It is possible to subscribe to a property of an entity instance via GraphQL and get changes to this property
in real time.</p>
<p>Other advantages of GraphQL are type safety and the fact that semantics can be mapped better.</p>
<h3 id="queries"><a class="header" href="#queries">Queries</a></h3>
<p><img src="images/queries.png" alt="GraphQL Queries" /></p>
<h3 id="mutations"><a class="header" href="#mutations">Mutations</a></h3>
<p><img src="images/mutations.png" alt="GraphQL Mutations" /></p>
<h3 id="subscriptions"><a class="header" href="#subscriptions">Subscriptions</a></h3>
<p><img src="images/subscriptions.png" alt="GraphQL Subscriptions" /></p>
<h2 id="graphql-endpoint"><a class="header" href="#graphql-endpoint">GraphQL Endpoint</a></h2>
<p>The GraphQL endpoint can be reached at <code>http://hostname/31415/graphql</code> or <code>ws://hostname/31415/graphql</code>.</p>
<p>The GraphQL schema is well documented.</p>
<h3 id="schema-introspection"><a class="header" href="#schema-introspection">Schema Introspection</a></h3>
<p>The GraphQL Server allows introspection and returns a GraphQL schema including documentation. With this it is possible
to validate queries and mutations and some tools can use the schema to provide autocompletion for creating queries.</p>
<h2 id="graphql-tools"><a class="header" href="#graphql-tools">GraphQL Tools</a></h2>
<ul>
<li><a href="https://altair.sirmuel.design/">Altair</a></li>
<li><a href="https://apis.guru/graphql-voyager/">GraphQL Voyager</a></li>
<li>https://addons.mozilla.org/de/firefox/addon/graphql-developer-tools/</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="components"><a class="header" href="#components">Components</a></h1>
<h2 id="get-component-by-name"><a class="header" href="#get-component-by-name">Get Component by Name</a></h2>
<pre><code class="language-graphql">query {
  types {
    components(name: &quot;component1&quot;) {
      name
      description
      properties {
        name
        dataType
        socketType
        extensions {
          name
          extension
        }
      }
    }
  }
}
</code></pre>
<h2 id="find-components"><a class="header" href="#find-components">Find Components</a></h2>
<p>Search by name with wildcards (<code>?</code> = single character, <code>*</code> = multiple characters)</p>
<pre><code class="language-graphql">query {
  types {
    components(search: &quot;*player*&quot;) {
      name
      description
      properties {
        name
        dataType
        socketType
      }
    }
  }
}
</code></pre>
<h2 id="create-component"><a class="header" href="#create-component">Create Component</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    components {
      create(
        name: &quot;component1&quot;,
        properties: [
          {
            name: &quot;first&quot;
            description: &quot;First Property&quot;
            dataType: ANY
            socketType: NONE
            extensions: [
              {
                name: &quot;sorted&quot;
                extension: {
                  sortProperty: &quot;first&quot;
                }
              }
            ]
          }
        ]
      ) {
        name
        description
        properties {
          name
          dataType
          socketType
          extensions {
            name
            extension
          }
        }
      }
    }
  }
}
</code></pre>
<h2 id="delete-component"><a class="header" href="#delete-component">Delete Component</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    components {
      delete(name: &quot;component1&quot;)
    }
  }
}
</code></pre>
<h2 id="navigate-from-component-to-entity-types"><a class="header" href="#navigate-from-component-to-entity-types">Navigate from Component to Entity Types</a></h2>
<pre><code class="language-graphql">query {
  types {
    components(name: &quot;component1&quot;) {
      entityTypes {
        name
      }
    }
  }
}
</code></pre>
<h2 id="navigate-from-component-to-relation-types"><a class="header" href="#navigate-from-component-to-relation-types">Navigate from Component to Relation Types</a></h2>
<pre><code class="language-graphql">query {
  types {
    components(name: &quot;component1&quot;) {
      relationTypes {
        name
        fullName
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entity-types"><a class="header" href="#entity-types">Entity Types</a></h1>
<h2 id="get-entity-type-by-name"><a class="header" href="#get-entity-type-by-name">Get Entity Type by Name</a></h2>
<pre><code class="language-graphql">query {
  types {
    entities(name: &quot;example&quot;) {
      name
      description
      components {
        name
      }
      properties {
        name
        dataType
        socketType
        extensions {
          name
          extension
        }
      }
    }
  }
}
</code></pre>
<h2 id="find-entity-types"><a class="header" href="#find-entity-types">Find Entity Types</a></h2>
<pre><code class="language-graphql">query {
  types {
    entities(search: &quot;*xamp*&quot;) {
      name
      description
      components {
        name
      }
      properties {
        name
        dataType
        socketType
      }
    }
  }
}
</code></pre>
<h2 id="create-entity-type"><a class="header" href="#create-entity-type">Create Entity Type</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    entities {
      create(
        name: &quot;example&quot;,
        components: [
          &quot;example_component&quot;
        ]
        properties: [
          {
            name: &quot;example&quot;
            description: &quot;Example Input Property&quot;
            dataType: STRING
            socketType: INPUT
            extensions: []
          }
        ]
      ) {
        name
        description
        components {
          name
        }
        properties {
          name
          dataType
          socketType
        }
      }
    }
  }
}
</code></pre>
<h2 id="delete-entity-type"><a class="header" href="#delete-entity-type">Delete Entity Type</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    entities {
      delete(name: &quot;example&quot;)
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relation-types"><a class="header" href="#relation-types">Relation Types</a></h1>
<h2 id="get-relation-type-by-name"><a class="header" href="#get-relation-type-by-name">Get Relation Type by Name</a></h2>
<pre><code class="language-graphql">query {
  types {
    relations(name: &quot;example_relation&quot;) {
      name
      fullName
      description
      outboundTypes {
        name
      }
      inboundTypes {
        name
      }
      components {
        name
      }
      properties {
        name
        dataType
        socketType
        extensions {
          name
          extension
        }
      }
    }
  }
}
</code></pre>
<h2 id="find-relation-type"><a class="header" href="#find-relation-type">Find Relation Type</a></h2>
<pre><code class="language-graphql">query {
  types {
    relations(search: &quot;example_relation?&quot;) {
      name
      fullName
      description
      outboundTypes {
        name
      }
      inboundTypes {
        name
      }
      components {
        name
      }
      properties {
        name
        dataType
        socketType
      }
    }
  }
}
</code></pre>
<h2 id="create-relation-type"><a class="header" href="#create-relation-type">Create Relation Type</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    relations {
      create(
        name: &quot;example_relation&quot;
        outboundType: &quot;entitytype1&quot;
        inboundType: &quot;entitytype2&quot;
        components: [
          &quot;component1&quot;
        ]
        properties: [
          {
            name: &quot;example_property&quot;
            description: &quot;Example Property&quot;
            dataType: NUMBER
            socketType: INPUT
            extensions: []
          }
        ]
      ) {
        name
        description
        outboundTypes {
          name
        }
        inboundTypes {
          name
        }
        components {
          name
        }
        properties {
          name
          dataType
          socketType
        }
      }
    }
  }
}
</code></pre>
<h2 id="delete-relation-type"><a class="header" href="#delete-relation-type">Delete Relation Type</a></h2>
<pre><code class="language-graphql">mutation {
  types {
    relations {
      delete(name: &quot;example_relation&quot;)
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="extension"><a class="header" href="#extension">Extension</a></h1>
<h2 id="query-extensions-of-an-entity-type"><a class="header" href="#query-extensions-of-an-entity-type">Query extensions of an entity type</a></h2>
<pre><code class="language-graphql">query {
  types {
    entities(name: &quot;example_entity&quot;) {
      name
      properties {
        extensions {
          name
          extension
        }
      }
    }
  }
}
</code></pre>
<h2 id="query-extension-by-name"><a class="header" href="#query-extension-by-name">Query extension by name</a></h2>
<pre><code class="language-graphql">query {
  types {
    entities(name: &quot;example_entity&quot;) {
      name
      properties {
        extensions(name: &quot;flow_editor_palette&quot;) {
          extension
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entity-instances"><a class="header" href="#entity-instances">Entity Instances</a></h1>
<h2 id="query-an-entity-instance-by-id"><a class="header" href="#query-an-entity-instance-by-id">Query an entity instance by id</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(id: &quot;0-0-0-0&quot;) {
      id
      type {
        name
      }
      properties {
        name
        value
      }
    }
  }
}
</code></pre>
<h2 id="query-a-property-instance-by-name-of-an-entity-instance-by-label"><a class="header" href="#query-a-property-instance-by-name-of-an-entity-instance-by-label">Query a property instance by name of an entity instance by label</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(label: &quot;/org/inexor/input/any_device/key_f10&quot;) {
      properties(name: &quot;key_down&quot;) {
        value
      }
    }
  }
}
</code></pre>
<h2 id="query-the-positions-of-all-cameras-that-are-looking-at-a-player"><a class="header" href="#query-the-positions-of-all-cameras-that-are-looking-at-a-player">Query the positions of all cameras that are looking at a player</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(type: &quot;player&quot;, label: &quot;/org/inexor/game/players/Hanack&quot;) {
      inbound(type: &quot;look_at&quot;) {
        outbound {
          properties(name: &quot;position&quot;) {
            value
          }
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relation-instances"><a class="header" href="#relation-instances">Relation Instances</a></h1>
<h2 id="get-pairs-of-outbound--inbound-entity-instances-of-all-relations-of-a-specific-type"><a class="header" href="#get-pairs-of-outbound--inbound-entity-instances-of-all-relations-of-a-specific-type">Get pairs of outbound + inbound entity instances of all relations of a specific type</a></h2>
<pre><code class="language-graphql">query {
  instances {
    relations(type: &quot;looks_at&quot;) {
      outbound {
        id
      }
      inbound {
        id
      }
    }
  }
}
</code></pre>
<h2 id="get-all-inbound-relation-instances-of-an-entity-instance"><a class="header" href="#get-all-inbound-relation-instances-of-an-entity-instance">Get all inbound relation instances of an entity instance</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(id: &quot;uuid&quot;) {
      inbound {
        type {
          name
        }
        properties {
          name
          value
        }
      }
    }
  }
}
</code></pre>
<h2 id="get-the-entity-instances-which-are-inbound-relations-to-an-entity-instance"><a class="header" href="#get-the-entity-instances-which-are-inbound-relations-to-an-entity-instance">Get the entity instances which are inbound relations to an entity instance</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(type: &quot;player&quot;) {
      inbound {
        outbound {
          id
          type {
            name
          }
          properties {
            name
            value
          }
        }
      }
    }
  }
}
</code></pre>
<h2 id="get-the-entity-instances-which-are-outbound-relations-to-an-entity-instance"><a class="header" href="#get-the-entity-instances-which-are-outbound-relations-to-an-entity-instance">Get the entity instances which are outbound relations to an entity instance</a></h2>
<pre><code class="language-graphql">query {
  instances {
    entities(type: &quot;player&quot;) {
      outbound {
        inbound {
          id
          type {
            name
          }
          properties {
            name
            value
          }
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flows"><a class="header" href="#flows">Flows</a></h1>
<h2 id="get-all-flow-ids"><a class="header" href="#get-all-flow-ids">Get all flow ids</a></h2>
<pre><code class="language-graphql">query {
  flows {
    id
  }
}
</code></pre>
<h2 id="get-all-flows-of-a-particular-entity-type"><a class="header" href="#get-all-flows-of-a-particular-entity-type">Get all flows of a particular entity type</a></h2>
<pre><code class="language-graphql">query {
  flows(type: &quot;generic_flow&quot;) {
    id
  }
}
</code></pre>
<h2 id="get-the-label-of-a-flows-by-id"><a class="header" href="#get-the-label-of-a-flows-by-id">Get the label of a flows by id</a></h2>
<pre><code class="language-graphql">query {
  flows(id: &quot;uuid&quot;) {
    label
  }
}
</code></pre>
<h2 id="get-the-id-of-a-flows-by-label"><a class="header" href="#get-the-id-of-a-flows-by-label">Get the id of a flows by label</a></h2>
<pre><code class="language-graphql">query {
  flows(label: &quot;/org/inexor/flows/game-servers&quot;) {
    id
  }
}
</code></pre>
<h2 id="get-the-entity-instance-which-are-contained-by-a-flow"><a class="header" href="#get-the-entity-instance-which-are-contained-by-a-flow">Get the entity instance which are contained by a flow</a></h2>
<pre><code class="language-graphql">query {
  flows(id: &quot;uuid&quot;) {
    entities {
      id
    }
  }
}
</code></pre>
<h2 id="get-the-properties-of-the-wrapper-entity-instance-of-a-flow"><a class="header" href="#get-the-properties-of-the-wrapper-entity-instance-of-a-flow">Get the properties of the wrapper entity instance of a flow</a></h2>
<pre><code class="language-graphql">query {
  flows(id: &quot;uuid&quot;) {
    wrapper {
      properties {
        name
        value
        type {
          dataType
          socketType
        }
      }
    }
  }
}
</code></pre>
<h2 id="get-the-relation-instances-which-are-contained-by-a-flow"><a class="header" href="#get-the-relation-instances-which-are-contained-by-a-flow">Get the relation instances which are contained by a flow</a></h2>
<pre><code class="language-graphql">query {
  flows(id: &quot;uuid&quot;) {
    relations {
      outbound {
        id
      }
      type {
        name
      }
      inbound {
        id
      }
    }
  }
}
</code></pre>
<h2 id="get-all-entity-instances-and-all-relation-instances-of-a-flow"><a class="header" href="#get-all-entity-instances-and-all-relation-instances-of-a-flow">Get all entity instances and all relation instances of a flow</a></h2>
<pre><code class="language-graphql">query {
  flows(id: &quot;uuid&quot;) {
    type {
      name
    }
    label
    entities {
      id
      label
      type {
        name
      }
      properties {
        name
        value
      }
    }
    relations {
      type {
        name
      }
      outbound {
        id
      }
      inbound {
        id
      }
      properties {
        name
        value
      }
    }
  }
    
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="property-instance-subscriptions"><a class="header" href="#property-instance-subscriptions">Property Instance Subscriptions</a></h1>
<h2 id="subscribe-changes-of-the-key-right-ctrl"><a class="header" href="#subscribe-changes-of-the-key-right-ctrl">Subscribe changes of the key <code>right-ctrl</code></a></h2>
<pre><code class="language-graphql">subscription keyDownRightCtrl {
  entity(
    label: &quot;/org/inexor/input/any_device/key/key_rightctrl&quot;,
    propertyName: &quot;key_down&quot;
  ) {
    name
    value
    type {
      name
      dataType
      socketType
      extensions {
        name
        extension
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="5-plugin-system"><a class="header" href="#5-plugin-system">5. Plugin System</a></h1>
<p>The plugin system is a central building block and is therefore mentioned first. The goal of the plugin system is to keep
the core as small as possible. The core of the application is described in the next section. Plugins, on the other hand,
contain the functionalities.</p>
<p>The aim of the plugin system is also that you don't have to restart the core application completely just because a small
part has changed. It should be sufficient to restart the modified plugin.</p>
<p>Also, if a plugin stops working, or if the plugin's configuration is changed, restarting the plugin might avoid
restarting the core application.</p>
<p>In addition, the file size of the binary file is reduced since only its libraries are compiled in the core application.</p>
<p>In addition, only what is actually used is loaded. Plugins that are not required for the application can be deactivated.</p>
<h2 id="trait-plugin"><a class="header" href="#trait-plugin">Trait <code>Plugin</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {

    // ===== Metadata =====

    fn metadata(&amp;self) -&gt; Result&lt;PluginMetadata, PluginError&gt; {}

    // ===== Lifecycle =====

    fn init(&amp;self) -&gt; Result&lt;(), PluginError&gt; {}

    fn post_init(&amp;self) -&gt; Result&lt;(), PluginError&gt; {}

    fn pre_shutdown(&amp;self) -&gt; Result&lt;(), PluginError&gt; {}

    fn shutdown(&amp;self) -&gt; Result&lt;(), PluginError&gt; {}

    // ===== Context =====

    fn set_context(&amp;self, context: Arc&lt;dyn PluginContext&gt;) -&gt; Result&lt;(), PluginError&gt; {}

    // ===== Providers =====
    
    fn get_component_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn ComponentProvider&gt;, PluginError&gt; {}

    fn get_entity_type_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn EntityTypeProvider&gt;, PluginError&gt; {}

    fn get_relation_type_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn RelationTypeProvider&gt;, PluginError&gt; {}

    fn get_component_behaviour_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn ComponentBehaviourProvider&gt;, PluginError&gt; {}

    fn get_entity_behaviour_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn EntityBehaviourProvider&gt;, PluginError&gt; {}

    fn get_relation_behaviour_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn RelationBehaviourProvider&gt;, PluginError&gt; {}

    fn get_flow_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn FlowProvider&gt;, PluginError&gt; {}

    fn get_web_resource_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn WebResourceProvider&gt;, PluginError&gt; {}
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="provide-plugin-metadata"><a class="header" href="#provide-plugin-metadata">Provide plugin metadata</a></h3>
<p>Built-in metadata of the plugin:</p>
<ul>
<li>The name of the plugin (use environment variable <code>CARGO_PKG_NAME</code>)</li>
<li>The description of the plugin (use environment variable <code>CARGO_PKG_DESCRIPTION</code>)</li>
<li>The version of the plugin (use environment variable <code>CARGO_PKG_VERSION</code>)</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {
    fn metadata(&amp;self) -&gt; Result&lt;PluginMetadata, PluginError&gt; {
        Ok(PluginMetadata {
            name: env!(&quot;CARGO_PKG_NAME&quot;).into(),
            description: env!(&quot;CARGO_PKG_DESCRIPTION&quot;).into(),
            version: env!(&quot;CARGO_PKG_VERSION&quot;).into(),
        })
    }
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="lifecycle"><a class="header" href="#lifecycle">Lifecycle</a></h3>
<p>The plugin trait provides methods to do initialization and shutdown before and after setting up and shutting down
providers.</p>
<p>TODO: Lifecycle Image</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {
    fn init(&amp;self) -&gt; Result&lt;(), PluginError&gt; {
        // Called before initialization of the providers
        Ok(())
    }

    fn post_init(&amp;self) -&gt; Result&lt;(), PluginError&gt; {
        // Called after initialization of the providers
        Ok(())
    }

    fn pre_shutdown(&amp;self) -&gt; Result&lt;(), PluginError&gt; {
        // Called before shutdown of the providers
        Ok(())
    }

    fn shutdown(&amp;self) -&gt; Result&lt;(), PluginError&gt; {
        // Called after shutdown of the providers
        Ok(())
    }
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="trait-plugincontext"><a class="header" href="#trait-plugincontext">Trait <code>PluginContext</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait PluginContext: Send + Sync {
    /// Returns the component manager.
    fn get_component_manager(&amp;self) -&gt; Arc&lt;dyn ComponentManager&gt;;

    /// Returns the entity type manager.
    fn get_entity_type_manager(&amp;self) -&gt; Arc&lt;dyn EntityTypeManager&gt;;

    /// Returns the relation type manager.
    fn get_relation_type_manager(&amp;self) -&gt; Arc&lt;dyn RelationTypeManager&gt;;

    /// Returns the entity instance manager.
    fn get_entity_instance_manager(&amp;self) -&gt; Arc&lt;dyn EntityInstanceManager&gt;;

    /// Returns the relation instance manager.
    fn get_relation_instance_manager(&amp;self) -&gt; Arc&lt;dyn RelationInstanceManager&gt;;

    /// Returns the flow manager.
    fn get_flow_manager(&amp;self) -&gt; Arc&lt;dyn FlowManager&gt;;
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="make-use-of-the-plugin-context"><a class="header" href="#make-use-of-the-plugin-context">Make use of the plugin context</a></h3>
<p>The plugin have to store a reference to the plugin context. Therefore, you have to implement the method <code>set_context</code>
which is called during initialization:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {
    fn set_context(&amp;self, context: Arc&lt;dyn PluginContext&gt;) -&gt; Result&lt;(), PluginError&gt; {
        self.context.0.write().unwrap().replace(context);
        Ok(())
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>If you want to make use of the <code>EntityInstanceManager</code> you have to:</p>
<ol>
<li>Get a RwLock on the context</li>
<li>Get a reference of the <code>EntityInstanceManager</code> using <code>get_entity_instance_manager</code></li>
<li>Create the entity instance using a builder (non-reactive)</li>
<li>Create/register the entity instance using <code>create</code> returns a reactive entity instance</li>
</ol>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl TestManager {
    fn create_entity(&amp;self) {
        let reader = self.context.0.read().unwrap();
        let entity_instance_manager = reader.as_ref().unwrap().get_entity_instance_manager().clone();
        let entity_instance = EntityInstanceBuilder::new(&quot;entity_type_name&quot;)
            .property(&quot;property_name&quot;, json!(&quot;property_value&quot;))
            .get();
        let reactive_entity_instance = entity_instance_manager.create(entity_instance);
    }
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="implement-or-ignore-providers"><a class="header" href="#implement-or-ignore-providers">Implement or ignore providers</a></h3>
<p>If your plugin provide components you have to return a reference of the <code>ComponentProvider</code>:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {
    fn get_component_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn ComponentProvider&gt;, PluginError&gt; {
        let component_provider = self.component_provider.clone();
        let component_provider: Result&lt;Arc&lt;dyn ComponentProvider&gt;, _&gt; = &lt;dyn query_interface::Object&gt;::query_arc(component_provider);
        if component_provider.is_err() {
            return Err(PluginError::NoComponentProvider);
        }
        Ok(component_provider.unwrap())
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>If your plugin doesn't provide components:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Plugin for ComparisonPluginImpl {
    fn get_component_provider(&amp;self) -&gt; Result&lt;Arc&lt;dyn ComponentProvider&gt;, PluginError&gt; {
        Err(PluginError::NoComponentProvider)
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>The same applies to all other providers:</p>
<ul>
<li><code>ComponentProvider</code></li>
<li><code>EntityTypeProvider</code></li>
<li><code>RelationTypeProvider</code></li>
<li><code>EntityBehaviourProvider</code></li>
<li><code>RelationBehaviourProvider</code></li>
<li><code>FlowProvider</code></li>
<li><code>WebResourceProvider</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-provider"><a class="header" href="#component-provider">Component Provider</a></h1>
<p>Plugins can implement the trait <code>ComponentProvider</code> in order to register components during initialization of the
plugin.</p>
<h2 id="trait-componentprovider"><a class="header" href="#trait-componentprovider">Trait <code>ComponentProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl ComponentProvider for ExampleComponentProviderImpl {
    fn get_components(&amp;self) -&gt; Vec&lt;Component&gt; {
        // Return a vector of components
    }
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="use-cases"><a class="header" href="#use-cases">Use cases</a></h2>
<ul>
<li>Read <code>Component</code>s from external JSON-file from a specific location</li>
<li>Build JSON-file into plugin binary using RustEmbed</li>
<li>Programmatically create <code>Component</code>s</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entity-type-provider"><a class="header" href="#entity-type-provider">Entity Type Provider</a></h1>
<p>Plugins can implement the trait <code>EntityTypeProvider</code> in order to register entity types during initialization of the
plugin.</p>
<h2 id="trait-entitytypeprovider"><a class="header" href="#trait-entitytypeprovider">Trait <code>EntityTypeProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl EntityTypeProvider for ExampleEntityTypeProviderProviderImpl {
    fn get_entity_types(&amp;self) -&gt; Vec&lt;EntityType&gt; {
        // Return a vector of entity types
    }
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="use-cases-1"><a class="header" href="#use-cases-1">Use cases</a></h2>
<ul>
<li>Read <code>EntityType</code>s from external JSON-file from a specific location</li>
<li>Build JSON-file into plugin binary using RustEmbed</li>
<li>Programmatically create <code>EntityType</code>s</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relation-type-provider"><a class="header" href="#relation-type-provider">Relation Type Provider</a></h1>
<p>Plugins can implement the trait <code>RelationTypeProvider</code> in order to register relation types during initialization of the
plugin.</p>
<h2 id="trait-relationtypeprovider"><a class="header" href="#trait-relationtypeprovider">Trait <code>RelationTypeProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl RelationTypeProvider for ExampleRelationTypeProviderProviderImpl {
    fn get_relation_types(&amp;self) -&gt; Vec&lt;RelationType&gt; {
        // Return a vector of relation types
    }
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="use-cases-2"><a class="header" href="#use-cases-2">Use cases</a></h2>
<ul>
<li>Read <code>RelationType</code>s from external JSON-file from a specific location</li>
<li>Build JSON-file into plugin binary using RustEmbed</li>
<li>Programmatically create <code>RelationType</code>s</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flow-provider"><a class="header" href="#flow-provider">Flow Provider</a></h1>
<p>Plugins can implement the trait <code>FlowProvider</code> in order to create a flow during initialization of the
plugin.</p>
<h2 id="trait-flowprovider"><a class="header" href="#trait-flowprovider">Trait <code>FlowProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl FlowProvider for ExampleFlowProviderProviderImpl {
    fn get_flows(&amp;self) -&gt; Vec&lt;Flow&gt; {
        // Return a vector of flows
    }
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="use-cases-3"><a class="header" href="#use-cases-3">Use cases</a></h2>
<ul>
<li>Read <code>Flow</code>s from external JSON-file from a specific location</li>
<li>Build JSON-file into plugin binary using RustEmbed</li>
<li>Programmatically create <code>Flow</code>s</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-behaviour-provider"><a class="header" href="#component-behaviour-provider">Component Behaviour Provider</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entity-behaviour-provider"><a class="header" href="#entity-behaviour-provider">Entity Behaviour Provider</a></h1>
<h2 id="trait-entitybehaviourprovider"><a class="header" href="#trait-entitybehaviourprovider">Trait <code>EntityBehaviourProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const EXAMPLE: &amp;'static str = &quot;example&quot;;

#[wrapper]
pub struct ExampleStorage(std::sync::RwLock&lt;std::collections::HashMap&lt;Uuid, std::sync::Arc&lt;Example&gt;&gt;&gt;);

#[provides]
fn create_example_storage() -&gt; ExampleStorage {
    ExampleStorage(std::sync::RwLock::new(std::collections::HashMap::new()))
}

#[async_trait]
pub trait ExampleEntityBehaviourProvider: EntityBehaviourProvider + Send + Sync {
    fn create_example(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;);

    fn remove_example(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;);

    fn remove_by_id(&amp;self, id: Uuid);
}

pub struct ExampleEntityBehaviourProviderImpl {
    example_behaviours: ExampleStorage,
}

interfaces!(ExampleEntityBehaviourProviderImpl: dyn EntityBehaviourProvider);

#[component]
impl ExampleEntityBehaviourProviderImpl {
    #[provides]
    fn new() -&gt; Self {
        Self {
            example_behaviours: create_example_storage(),
        }
    }
}

#[async_trait]
#[provides]
impl ExampleEntityBehaviourProvider for ExampleEntityBehaviourProviderImpl {
    fn create_example(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;) {
        let id = entity_instance.id;
        let example_behaviour = Example::new(entity_instance);
        if example_behaviour.is_ok() {
            let example_behaviour = Arc::new(example_behaviour.unwrap());
            self.example_behaviours.0.write().unwrap().insert(id, example_behaviour);
            debug!(&quot;Added behaviour {} to entity instance {}&quot;, EXAMPLE, id);
        }
    }

    fn remove_example(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;) {
        self.example_behaviours.0.write().unwrap().remove(&amp;entity_instance.id);
        debug!(&quot;Removed behaviour {} from entity instance {}&quot;, EXAMPLE, entity_instance.id);
    }

    fn remove_by_id(&amp;self, id: Uuid) {
        if self.example_behaviours.0.write().unwrap().contains_key(&amp;id) {
            self.example_behaviours.0.write().unwrap().remove(&amp;id);
            debug!(&quot;Removed behaviour {} from entity instance {}&quot;, EXAMPLE, id);
        }
    }
}

impl EntityBehaviourProvider for ExampleEntityBehaviourProviderImpl {
    fn add_behaviours(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;) {
        match entity_instance.clone().type_name.as_str() {
            EXAMPLE =&gt; self.create_example(entity_instance),
            _ =&gt; {}
        }
    }

    fn remove_behaviours(&amp;self, entity_instance: Arc&lt;ReactiveEntityInstance&gt;) {
        match entity_instance.clone().type_name.as_str() {
            EXAMPLE =&gt; self.remove_example(entity_instance),
            _ =&gt; {}
        }
    }

    fn remove_behaviours_by_id(&amp;self, id: Uuid) {
        self.remove_by_id(id);
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relation-behaviour-provider"><a class="header" href="#relation-behaviour-provider">Relation Behaviour Provider</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="web-resource-provider"><a class="header" href="#web-resource-provider">Web Resource Provider</a></h1>
<p>Plugins can implement the trait <code>WebResourceProvider</code> in order to register handlers for endpoints.</p>
<h2 id="use-cases-4"><a class="header" href="#use-cases-4">Use Cases</a></h2>
<ul>
<li>Deliver static files &amp; web applications</li>
<li>Provide REST endpoints</li>
</ul>
<h2 id="trait-webresourceprovider"><a class="header" href="#trait-webresourceprovider">Trait <code>WebResourceProvider</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl WebResourceProvider for ExampleWebResourceProviderImpl {
    fn get_base_path(&amp;self) -&gt; String {
        String::from(&quot;example&quot;)
    }

    fn handle_web_resource(
        &amp;self,
        path: String,
        _request: Request&lt;HttpBody&gt;,
    ) -&gt; Result&lt;Response&lt;HttpBody&gt;&gt; {
        let asset = FlowEditorWebResourceAsset::get(path.as_ref());
        match asset {
            Some(asset) =&gt; {
                let body: HttpBody = match asset.data {
                    Cow::Borrowed(bytes) =&gt; HttpBody::Binary(bytes.to_vec()),
                    Cow::Owned(bytes) =&gt; HttpBody::Binary(bytes.to_vec()),
                };
                let mime_type = from_path(path.as_str()).first_or_octet_stream();
                Response::builder()
                    .status(StatusCode::OK)
                    .header(CONTENT_TYPE, mime_type.to_string())
                    .body(body)
            }
            None =&gt; Response::builder()
                .status(StatusCode::NOT_FOUND)
                .body(HttpBody::None),
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugins"><a class="header" href="#plugins">Plugins</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asset"><a class="header" href="#asset">Asset</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-base"><a class="header" href="#plugin-base">Plugin Base</a></h1>
<h2 id="components-1"><a class="header" href="#components-1">Components</a></h2>
<table><thead><tr><th>Name</th><th>Properties</th><th>DataType</th><th>SocketType</th><th>Description</th></tr></thead><tbody>
<tr><td>named</td><td>name</td><td>string</td><td>None</td><td></td></tr>
<tr><td>describable</td><td>description</td><td>string</td><td>None</td><td></td></tr>
<tr><td>flow_2d</td><td>f2dx</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f2dy</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f2dw</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f2dh</td><td>number</td><td>None</td><td></td></tr>
<tr><td>flow_3d</td><td>f3dx</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f3dy</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f3dz</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f3dw</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f3dh</td><td>number</td><td>None</td><td></td></tr>
<tr><td></td><td>f3dd</td><td>number</td><td>None</td><td></td></tr>
<tr><td>licensed</td><td>license</td><td>string</td><td>None</td><td>The SPDX license identifier. See: https://spdx.org/licenses/</td></tr>
<tr><td></td><td>attribution</td><td>string</td><td>None</td><td>Title, author, source and license. Best practices for attribution: https://wiki.creativecommons.org/wiki/best_practices_for_attribution</td></tr>
<tr><td>versioned</td><td>version</td><td>string</td><td>None</td><td>The version number. Use semantic versioning. See: https://semver.org/</td></tr>
</tbody></table>
<h4 id="entity-types-1"><a class="header" href="#entity-types-1">Entity Types</a></h4>
<table><thead><tr><th>Name</th><th>Properties</th><th>DataType</th><th>SocketType</th><th>Description</th></tr></thead><tbody>
<tr><td>Generic Flow</td><td></td><td></td><td></td><td></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-binary"><a class="header" href="#plugin-binary">Plugin Binary</a></h1>
<p>This plugin provides two entity types for loading binary data from a file into a property as
a Data-URL with BASE64 encoding and for storing da property which contains a Data-URL with
BASE64 encoding into a file.</p>
<p>This is the base for loading textures, sounds, maps and any other type of binary data.</p>
<h2 id="data-url"><a class="header" href="#data-url">Data URL</a></h2>
<p>Example of a data URL:</p>
<pre><code>data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAALGP
C/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9YGARc5KB0XV+IA
AAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAF1J
REFUGNO9zL0NglAAxPEfdLTs4BZM4DIO4C7OwQg2JoQ9LE1exdlYvBBeZ7jq
ch9//q1uH4TLzw4d6+ErXMMcXuHWxId3KOETnnXXV6MJpcq2MLaI97CER3N0
vr4MkhoXe0rZigAAAABJRU5ErkJggg==
</code></pre>
<h2 id="entity-types-2"><a class="header" href="#entity-types-2">Entity Types</a></h2>
<p>Feed the streams with binary data from files.</p>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th><th>Description</th></tr></thead><tbody>
<tr><td></td><td></td><td></td><td></td><td></td></tr>
<tr><td>LoadBinary</td><td>filename</td><td>string</td><td>input</td><td>The filename to load the binary data from</td></tr>
<tr><td></td><td>data</td><td>string</td><td>output</td><td>Data-URL, BASE64 encoded</td></tr>
<tr><td>SaveBinary</td><td>filename</td><td>string</td><td>input</td><td>The filename to store the binary data into</td></tr>
<tr><td></td><td>data</td><td>string</td><td>input</td><td>Data-URL, BASE64 encoded</td></tr>
</tbody></table>
<h2 id="web-resources"><a class="header" href="#web-resources">Web Resources</a></h2>
<p>Download and upload binary resources via HTTP.</p>
<table><thead><tr><th>HTTP Method</th><th>Resource Pattern</th><th>HTTP Header(s)</th><th>Description</th></tr></thead><tbody>
<tr><td>GET</td><td>/entities/{uuid}/properties/{name}</td><td>Accept: image/png</td><td>Converts the Data-URL into a binary data and returns it as web resource</td></tr>
<tr><td>POST</td><td>/entities/{uuid}/properties/{name}</td><td>Content-Type: image/png</td><td>Converts the binary data into a Data-URL and stores it into the given property</td></tr>
</tbody></table>
<p>Alternative using GraphQL: A web application encodes the binary data to BASE64 and create a Data-URL. Then it sends a mutation query for the given property.</p>
<h2 id="repository"><a class="header" href="#repository">Repository</a></h2>
<table><thead><tr><th>Name</th><th>Repository</th></tr></thead><tbody>
<tr><td>inexor-rgf-plugin-binary</td><td>https://github.com/aschaeffer/inexor-rgf-plugin-binary</td></tr>
</tbody></table>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<ul>
<li>https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-comparison"><a class="header" href="#plugin-comparison">Plugin Comparison</a></h1>
<h4 id="components-2"><a class="header" href="#components-2">Components</a></h4>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>comparison_gate</td><td>lhs</td><td>any</td><td>input</td></tr>
<tr><td></td><td>rhs</td><td>any</td><td>input</td></tr>
<tr><td></td><td>result</td><td>bool</td><td>output</td></tr>
</tbody></table>
<h4 id="entity-types-3"><a class="header" href="#entity-types-3">Entity Types</a></h4>
<table><thead><tr><th>Name</th><th>Components</th><th>Description</th></tr></thead><tbody>
<tr><td>equals</td><td>comparison_gate</td><td>Returns true, if lhs and rhs are equal</td></tr>
<tr><td>greater_than</td><td>comparison_gate</td><td>Returns true, if lhs is greater than rhs</td></tr>
<tr><td>greater_than_or_equals</td><td>comparison_gate</td><td>Returns true, if lhs is greater than or equal to rhs</td></tr>
<tr><td>lower_than</td><td>comparison_gate</td><td>Returns true, if lhs is lower than rhs</td></tr>
<tr><td>lower_than_or_equals</td><td>comparison_gate</td><td>Returns true, if lhs is lower than or equal to rhs</td></tr>
<tr><td>not_equals</td><td>comparison_gate</td><td>Returns true, if lhs and rhs are not equal</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-config"><a class="header" href="#plugin-config">Plugin Config</a></h1>
<p>Read configuration files (TOML) into an entity instance.</p>
<h2 id="entity-types-4"><a class="header" href="#entity-types-4">Entity Types</a></h2>
<table><thead><tr><th>Name</th><th>Properties</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>config_file</td><td>filename</td><td>string</td><td>none</td></tr>
<tr><td></td><td>configuration</td><td>object</td><td>output</td></tr>
</tbody></table>
<h2 id="platform-compatibility"><a class="header" href="#platform-compatibility">Platform Compatibility</a></h2>
<table><thead><tr><th>Platform</th><th>Compatibility</th></tr></thead><tbody>
<tr><td>Linux</td><td>✓</td></tr>
<tr><td>MacOS</td><td>✓</td></tr>
<tr><td>Windows</td><td>✓</td></tr>
</tbody></table>
<h2 id="usage-graphql"><a class="header" href="#usage-graphql">Usage (GraphQL)</a></h2>
<h3 id="read-in-a-configuration"><a class="header" href="#read-in-a-configuration">Read in a configuration</a></h3>
<pre><code class="language-graphql">mutation {
  instances {
    entities {
      create(
        type: &quot;config_file&quot;
        id: &quot;aed6c9b0-e495-4423-baeb-5597b66416f4&quot;
        properties: [
          {
            name: &quot;filename&quot;
            value: &quot;config/plugins.toml&quot;
          }
        ]
      ) {
        id
        type {
          name
        }
        properties(
          names: [
            &quot;filename&quot;
            &quot;configuration&quot;
          ]
        ) {
          name
          value
        }
      }
    }
  }
}
</code></pre>
<h3 id="get-all-configurations"><a class="header" href="#get-all-configurations">Get all configurations</a></h3>
<pre><code class="language-graphql">query getAllConfigs {
  instances {
    entities(type: &quot;config_file&quot;) {
      id
      label
      description
      properties {
        name
        value
      }
    }
  }
}
</code></pre>
<h3 id="reload-a-configuration"><a class="header" href="#reload-a-configuration">&quot;Reload&quot; a configuration</a></h3>
<p>By triggering the property `filename' the configuration file will be read again:</p>
<pre><code class="language-graphql">mutation reloadPluginsConfig {
  instances {
    entities {
      update(
        id: &quot;aed6c9b0-e495-4423-baeb-5597b66416f4&quot;,
        properties: [
          {
            name: &quot;filename&quot;,
            value: &quot;config/plugins.toml&quot;
          }
        ]
      ) {
        id
        type {
          name
        }
        properties {
          name
          value
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-connector"><a class="header" href="#plugin-connector">Plugin Connector</a></h1>
<h2 id="what-is-a-connector"><a class="header" href="#what-is-a-connector">What is a <code>Connector</code>?</a></h2>
<p>A connector connects a property of the <code>outbound entity instance</code> with a property of the <code>inbound entity instance</code> and <strong>propagates</strong> the changes of the value.</p>
<p>During propagation a propagation function is called. The propagation function has one single input (the
incoming value). Connectors of different types has different propagation functions.</p>
<p>The propagation function can only do simple things (like casting or logging) but in fact even these
simple operations makes the control flow much simpler and much more readable.</p>
<h4 id="how-does-a-connector-work"><a class="header" href="#how-does-a-connector-work">How does a connector work?</a></h4>
<p>The connector is a relation instance which connects two entity instances. The relation itself stores
the names of the output property and the input property.</p>
<p>In theory, it's also possible to connect two properties of the same entity instance.</p>
<p>On construction the streams are connected.</p>
<p>On destruction of the connector, the stream will be removed.</p>
<hr />
<p><strong>Warning</strong></p>
<ol>
<li>Connecting properties of the same entity instance is discouraged to prevent feedback loops</li>
<li>No type checks are performed on construction (yet; you are responsible)</li>
<li>There is no check about feedback loops (yet; you are responsible)</li>
<li>Renaming the relation properties (outbound_property_name, inbound_property_name) doesn't have any
effect (yet). You have to remove the old connector and recreate a new connector.</li>
</ol>
<hr />
<h2 id="components-3"><a class="header" href="#components-3">Components</a></h2>
<table><thead><tr><th>Name</th><th>Description</th><th>Property</th><th>DataType</th></tr></thead><tbody>
<tr><td>connector</td><td>Connects two properties</td><td>outbound_property_name</td><td>string</td></tr>
<tr><td></td><td></td><td>inbound_property_name</td><td>string</td></tr>
</tbody></table>
<h2 id="relation-types-1"><a class="header" href="#relation-types-1">Relation Types</a></h2>
<table><thead><tr><th>Name</th><th>Components</th><th>Description</th></tr></thead><tbody>
<tr><td>debug_connector</td><td>connector</td><td>This connector logs the value before propagation (log level debug)</td></tr>
<tr><td>default_connector</td><td>connector</td><td>This is the default connector type, which simply does nothing than propagate the value</td></tr>
<tr><td>parse_float_connector</td><td>connector</td><td>This connector parses a string value and propagates a float value</td></tr>
<tr><td>parse_int_connector</td><td>connector</td><td>This connector parses a string value and propagates a int value</td></tr>
<tr><td>to_string_connector</td><td>connector</td><td>This connector converts the value of any type to string before propagation</td></tr>
<tr><td>trace_connector</td><td>connector</td><td>This connector logs the value before propagation (log level trace)</td></tr>
</tbody></table>
<h3 id="future-more-useful-connectors"><a class="header" href="#future-more-useful-connectors">Future: More (useful) connectors</a></h3>
<table><thead><tr><th>Name</th><th>Components</th><th>Description</th></tr></thead><tbody>
<tr><td>str_split_connector</td><td>connector</td><td>A string is split into tokens. Propagates an JSON array of string tokens</td></tr>
<tr><td>str_join_connector</td><td>connector</td><td>Joins an array of strings and propagates the resulting string</td></tr>
<tr><td>increment_connector</td><td>connector</td><td>Propagates the incremented number</td></tr>
<tr><td>decrement_connector</td><td>connector</td><td>Propagates the decremented number</td></tr>
</tbody></table>
<h2 id="platform-compatibility-1"><a class="header" href="#platform-compatibility-1">Platform Compatibility</a></h2>
<table><thead><tr><th>Platform</th><th>Compatibility</th></tr></thead><tbody>
<tr><td>Linux</td><td>✓</td></tr>
<tr><td>MacOS</td><td>✓</td></tr>
<tr><td>Windows</td><td>✓</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-input-device"><a class="header" href="#plugin-input-device">Plugin: Input Device</a></h1>
<p>This plugin makes input devices (keyboard, mouse, gamepad, remote control...) available as entities using linux evdev.</p>
<h2 id="use-cases-5"><a class="header" href="#use-cases-5">Use cases</a></h2>
<ul>
<li>Global Hotkeys
<ul>
<li>Running basic functions (server list, chat, ...) in background</li>
<li>No window have to be open or minimized</li>
</ul>
</li>
<li>Home Automation
<ul>
<li>Use a real keyboard (for example a wireless numpad keyboards) as interface to control flows</li>
</ul>
</li>
<li>Robotics
<ul>
<li>Control your robot with keys or a 3d mouse</li>
</ul>
</li>
</ul>
<h2 id="event-types"><a class="header" href="#event-types">Event Types</a></h2>
<ul>
<li>Key (<a href="https://docs.rs/evdev/latest/evdev/struct.Key.html#implementations">List</a>)
<ul>
<li>Keyboard Key</li>
<li>Mouse Button</li>
</ul>
</li>
<li>Led (<a href="https://docs.rs/evdev/latest/evdev/struct.LedType.html">List</a>)
<ul>
<li>Keyboard Led</li>
</ul>
</li>
<li>Relative Axis (<a href="https://docs.rs/evdev/latest/evdev/struct.RelativeAxisType.html">List</a>)
<ul>
<li>Mouse Position XY</li>
<li>Mouse Wheels</li>
<li>Volume Wheels on Keyboards</li>
</ul>
</li>
<li>Absolute Axis (<a href="https://docs.rs/evdev/latest/evdev/struct.AbsoluteAxisType.html">List</a>)
<ul>
<li>Joysticks</li>
</ul>
</li>
<li>Switch (<a href="https://docs.rs/evdev/latest/evdev/struct.SwitchType.html">List</a>)
<ul>
<li>Lid shut</li>
<li>Microphone Jack inserted</li>
<li>Camera lens covered</li>
<li>Front proximity sensor active</li>
<li>Cover closed</li>
</ul>
</li>
</ul>
<h2 id="entity-instances-1"><a class="header" href="#entity-instances-1">Entity Instances</a></h2>
<p>Entity instances represents a key/led/... and each can be addressed using a stable
UUID (by device name and key/led/... id) or a stable human-readable label.</p>
<pre><code class="language-graphql">query getKeyStateF7 {
  instances {
    entities(label: &quot;/org/inexor/input/any_device/key/key_f7&quot;) {
      label
      properties(name: &quot;key_down&quot;) {
        value
      }
    }
  }
}
</code></pre>
<h3 id="specific-device-and-any-device"><a class="header" href="#specific-device-and-any-device">&quot;Specific Device&quot; and &quot;Any Device&quot;</a></h3>
<p>Each event is forwarded twice:</p>
<table><thead><tr><th>Device</th><th>Event</th><th>Entity Instance Label</th></tr></thead><tbody>
<tr><td>keyboard1</td><td>key_f7</td><td><ul><li>/org/inexor/input/keyboard1/key/key_f7</li><li>/org/inexor/input/any_device/key/key_f7</li></ul></td></tr>
<tr><td>keyboard2</td><td>key_f7</td><td><ul><li>/org/inexor/input/keyboard1/key/key_f7</li><li>/org/inexor/input/any_device/key/key_f7</li></ul></td></tr>
</tbody></table>
<p>This allows you to address a key/led/... event on a specific device or the key/led/... event on all devices.</p>
<h2 id="type-system-1"><a class="header" href="#type-system-1">Type System</a></h2>
<p><img src="images/input_device_type_system.png" alt="Inexor" /></p>
<h2 id="entity-types-5"><a class="header" href="#entity-types-5">Entity Types</a></h2>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>InputDevice</td><td>name</td><td>string</td><td>output</td></tr>
<tr><td></td><td>event</td><td>object</td><td>output</td></tr>
<tr><td></td><td>physical_path</td><td>string</td><td>output</td></tr>
<tr><td></td><td>driver_version</td><td>string</td><td>output</td></tr>
<tr><td></td><td>vendor</td><td>number</td><td>output</td></tr>
<tr><td></td><td>product</td><td>number</td><td>output</td></tr>
<tr><td></td><td>version</td><td>number</td><td>output</td></tr>
<tr><td>InputDeviceKey</td><td>key</td><td>string</td><td>none</td></tr>
<tr><td></td><td>key_code</td><td>number</td><td>none</td></tr>
<tr><td></td><td>key_down</td><td>bool</td><td>output</td></tr>
<tr><td>InputDeviceLed</td><td>led</td><td>string</td><td>none</td></tr>
<tr><td></td><td>led_type</td><td>number</td><td>none</td></tr>
<tr><td></td><td>state</td><td>bool</td><td>output</td></tr>
<tr><td>InputDeviceRelativeAxis</td><td>relative_axis</td><td>string</td><td>none</td></tr>
<tr><td></td><td>relative_axis_type</td><td>number</td><td>none</td></tr>
<tr><td></td><td>state</td><td>number</td><td>output</td></tr>
<tr><td>InputDeviceAbsoluteAxis</td><td>absolute_axis</td><td>string</td><td>none</td></tr>
<tr><td></td><td>absolute_axis_type</td><td>number</td><td>none</td></tr>
<tr><td></td><td>state</td><td>number</td><td>output</td></tr>
<tr><td>InputDeviceSwitch</td><td>switch</td><td>string</td><td>none</td></tr>
<tr><td></td><td>switch_type</td><td>number</td><td>none</td></tr>
<tr><td></td><td>state</td><td>number</td><td>output</td></tr>
</tbody></table>
<h2 id="relation-types-2"><a class="header" href="#relation-types-2">Relation Types</a></h2>
<table><thead><tr><th>Name</th><th>Outbound Entity Type</th><th>Inbound Entity Type</th></tr></thead><tbody>
<tr><td>KeyEvent</td><td>InputDevice</td><td>InputDeviceKey</td></tr>
<tr><td>LedEvent</td><td>InputDevice</td><td>InputDeviceLed</td></tr>
<tr><td>RelativeAxisEvent</td><td>InputDevice</td><td>InputDeviceRelativeAxis</td></tr>
<tr><td>AbsoluteAxisEvent</td><td>InputDevice</td><td>InputDeviceAbsoluteAxis</td></tr>
<tr><td>SwitchEvent</td><td>InputDevice</td><td>InputDeviceSwitch</td></tr>
</tbody></table>
<h2 id="entity-behaviours"><a class="header" href="#entity-behaviours">Entity Behaviours</a></h2>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>InputDevice</td><td>Streams input events from evdev and sets the entity instance property <code>event</code></td></tr>
</tbody></table>
<h4 id="relation-behaviours"><a class="header" href="#relation-behaviours">Relation Behaviours</a></h4>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>KeyEvent</td><td>Propagates input events and filters by event type (key event) and key code defined by the inbound entity instance</td></tr>
<tr><td>LedEvent</td><td>Propagates input events and filters by event type (led event) and led type defined by the inbound entity instance</td></tr>
<tr><td>RelativeAxisEvent</td><td>Propagates input events and filters by event type (relative axis event) and relative axis type defined by the inbound entity instance</td></tr>
<tr><td>AbsoluteAxisEvent</td><td>Propagates input events and filters by event type (absolute axis event) and absolute axis type defined by the inbound entity instance</td></tr>
<tr><td>SwitchEvent</td><td>Propagates input events and filters by event type (switch event) and switch type defined by the inbound entity instance</td></tr>
</tbody></table>
<h2 id="rust-crate--rust-reference"><a class="header" href="#rust-crate--rust-reference">Rust Crate / Rust Reference</a></h2>
<ul>
<li>https://github.com/emberian/evdev/ (Linux only)</li>
<li>https://www.freedesktop.org/software/libevdev/doc/latest/</li>
</ul>
<h2 id="repository-1"><a class="header" href="#repository-1">Repository</a></h2>
<table><thead><tr><th>Name</th><th>Repository</th></tr></thead><tbody>
<tr><td>inexor-rgf-plugin-input-device</td><td>https://github.com/aschaeffer/inexor-rgf-plugin-input-device</td></tr>
</tbody></table>
<h2 id="appendix-input-device-types"><a class="header" href="#appendix-input-device-types">Appendix: Input Device Types</a></h2>
<h3 id="keys"><a class="header" href="#keys">Keys</a></h3>
<p>A key changed state. A key, or button, is usually a momentary switch (in the circuit sense). It has two states: down,
or up. There are events for when keys are pressed (become down) and released (become up). There are also “key repeats”,
where multiple events are sent while a key is down.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>KEY_RESERVED</td><td></td></tr>
<tr><td>KEY_ESC</td><td></td></tr>
<tr><td>KEY_1</td><td></td></tr>
<tr><td>KEY_2</td><td></td></tr>
<tr><td>KEY_3</td><td></td></tr>
<tr><td>KEY_4</td><td></td></tr>
<tr><td>KEY_5</td><td></td></tr>
<tr><td>KEY_6</td><td></td></tr>
<tr><td>KEY_7</td><td></td></tr>
<tr><td>KEY_8</td><td></td></tr>
<tr><td>KEY_9</td><td></td></tr>
<tr><td>KEY_0</td><td></td></tr>
<tr><td>KEY_MINUS</td><td></td></tr>
<tr><td>KEY_EQUAL</td><td></td></tr>
<tr><td>KEY_BACKSPACE</td><td></td></tr>
<tr><td>KEY_TAB</td><td></td></tr>
<tr><td>KEY_Q</td><td></td></tr>
<tr><td>KEY_W</td><td></td></tr>
<tr><td>KEY_E</td><td></td></tr>
<tr><td>KEY_R</td><td></td></tr>
<tr><td>KEY_T</td><td></td></tr>
<tr><td>KEY_Y</td><td></td></tr>
<tr><td>KEY_U</td><td></td></tr>
<tr><td>KEY_I</td><td></td></tr>
<tr><td>KEY_O</td><td></td></tr>
<tr><td>KEY_P</td><td></td></tr>
<tr><td>KEY_LEFTBRACE</td><td></td></tr>
<tr><td>KEY_RIGHTBRACE</td><td></td></tr>
<tr><td>KEY_ENTER</td><td></td></tr>
<tr><td>KEY_LEFTCTRL</td><td></td></tr>
<tr><td>KEY_A</td><td></td></tr>
<tr><td>KEY_S</td><td></td></tr>
<tr><td>KEY_D</td><td></td></tr>
<tr><td>KEY_F</td><td></td></tr>
<tr><td>KEY_G</td><td></td></tr>
<tr><td>KEY_H</td><td></td></tr>
<tr><td>KEY_J</td><td></td></tr>
<tr><td>KEY_K</td><td></td></tr>
<tr><td>KEY_L</td><td></td></tr>
<tr><td>KEY_SEMICOLON</td><td></td></tr>
<tr><td>KEY_APOSTROPHE</td><td></td></tr>
<tr><td>KEY_GRAVE</td><td></td></tr>
<tr><td>KEY_LEFTSHIFT</td><td></td></tr>
<tr><td>KEY_BACKSLASH</td><td></td></tr>
<tr><td>KEY_Z</td><td></td></tr>
<tr><td>KEY_X</td><td></td></tr>
<tr><td>KEY_C</td><td></td></tr>
<tr><td>KEY_V</td><td></td></tr>
<tr><td>KEY_B</td><td></td></tr>
<tr><td>KEY_N</td><td></td></tr>
<tr><td>KEY_M</td><td></td></tr>
<tr><td>KEY_COMMA</td><td></td></tr>
<tr><td>KEY_DOT</td><td></td></tr>
<tr><td>KEY_SLASH</td><td></td></tr>
<tr><td>KEY_RIGHTSHIFT</td><td></td></tr>
<tr><td>KEY_KPASTERISK</td><td></td></tr>
<tr><td>KEY_LEFTALT</td><td></td></tr>
<tr><td>KEY_SPACE</td><td></td></tr>
<tr><td>KEY_CAPSLOCK</td><td></td></tr>
<tr><td>KEY_F1</td><td></td></tr>
<tr><td>KEY_F2</td><td></td></tr>
<tr><td>KEY_F3</td><td></td></tr>
<tr><td>KEY_F4</td><td></td></tr>
<tr><td>KEY_F5</td><td></td></tr>
<tr><td>KEY_F6</td><td></td></tr>
<tr><td>KEY_F7</td><td></td></tr>
<tr><td>KEY_F8</td><td></td></tr>
<tr><td>KEY_F9</td><td></td></tr>
<tr><td>KEY_F10</td><td></td></tr>
<tr><td>KEY_NUMLOCK</td><td></td></tr>
<tr><td>KEY_SCROLLLOCK</td><td></td></tr>
<tr><td>KEY_KP7</td><td></td></tr>
<tr><td>KEY_KP8</td><td></td></tr>
<tr><td>KEY_KP9</td><td></td></tr>
<tr><td>KEY_KPMINUS</td><td></td></tr>
<tr><td>KEY_KP4</td><td></td></tr>
<tr><td>KEY_KP5</td><td></td></tr>
<tr><td>KEY_KP6</td><td></td></tr>
<tr><td>KEY_KPPLUS</td><td></td></tr>
<tr><td>KEY_KP1</td><td></td></tr>
<tr><td>KEY_KP2</td><td></td></tr>
<tr><td>KEY_KP3</td><td></td></tr>
<tr><td>KEY_KP0</td><td></td></tr>
<tr><td>KEY_KPDOT</td><td></td></tr>
<tr><td>KEY_ZENKAKUHANKAKU</td><td></td></tr>
<tr><td>KEY_102ND</td><td></td></tr>
<tr><td>KEY_F11</td><td></td></tr>
<tr><td>KEY_F12</td><td></td></tr>
<tr><td>KEY_RO</td><td></td></tr>
<tr><td>KEY_KATAKANA</td><td></td></tr>
<tr><td>KEY_HIRAGANA</td><td></td></tr>
<tr><td>KEY_HENKAN</td><td></td></tr>
<tr><td>KEY_KATAKANAHIRAGANA</td><td></td></tr>
<tr><td>KEY_MUHENKAN</td><td></td></tr>
<tr><td>KEY_KPJPCOMMA</td><td></td></tr>
<tr><td>KEY_KPENTER</td><td></td></tr>
<tr><td>KEY_RIGHTCTRL</td><td></td></tr>
<tr><td>KEY_KPSLASH</td><td></td></tr>
<tr><td>KEY_SYSRQ</td><td></td></tr>
<tr><td>KEY_RIGHTALT</td><td></td></tr>
<tr><td>KEY_LINEFEED</td><td></td></tr>
<tr><td>KEY_HOME</td><td></td></tr>
<tr><td>KEY_UP</td><td></td></tr>
<tr><td>KEY_PAGEUP</td><td></td></tr>
<tr><td>KEY_LEFT</td><td></td></tr>
<tr><td>KEY_RIGHT</td><td></td></tr>
<tr><td>KEY_END</td><td></td></tr>
<tr><td>KEY_DOWN</td><td></td></tr>
<tr><td>KEY_PAGEDOWN</td><td></td></tr>
<tr><td>KEY_INSERT</td><td></td></tr>
<tr><td>KEY_DELETE</td><td></td></tr>
<tr><td>KEY_MACRO</td><td></td></tr>
<tr><td>KEY_MUTE</td><td></td></tr>
<tr><td>KEY_VOLUMEDOWN</td><td></td></tr>
<tr><td>KEY_VOLUMEUP</td><td></td></tr>
<tr><td>KEY_POWER</td><td></td></tr>
<tr><td>KEY_KPEQUAL</td><td></td></tr>
<tr><td>KEY_KPPLUSMINUS</td><td></td></tr>
<tr><td>KEY_PAUSE</td><td></td></tr>
<tr><td>KEY_SCALE</td><td></td></tr>
<tr><td>KEY_KPCOMMA</td><td></td></tr>
<tr><td>KEY_HANGEUL</td><td></td></tr>
<tr><td>KEY_HANJA</td><td></td></tr>
<tr><td>KEY_YEN</td><td></td></tr>
<tr><td>KEY_LEFTMETA</td><td></td></tr>
<tr><td>KEY_RIGHTMETA</td><td></td></tr>
<tr><td>KEY_COMPOSE</td><td></td></tr>
<tr><td>KEY_STOP</td><td></td></tr>
<tr><td>KEY_AGAIN</td><td></td></tr>
<tr><td>KEY_PROPS</td><td></td></tr>
<tr><td>KEY_UNDO</td><td></td></tr>
<tr><td>KEY_FRONT</td><td></td></tr>
<tr><td>KEY_COPY</td><td></td></tr>
<tr><td>KEY_OPEN</td><td></td></tr>
<tr><td>KEY_PASTE</td><td></td></tr>
<tr><td>KEY_FIND</td><td></td></tr>
<tr><td>KEY_CUT</td><td></td></tr>
<tr><td>KEY_HELP</td><td></td></tr>
<tr><td>KEY_MENU</td><td></td></tr>
<tr><td>KEY_CALC</td><td></td></tr>
<tr><td>KEY_SETUP</td><td></td></tr>
<tr><td>KEY_SLEEP</td><td></td></tr>
<tr><td>KEY_WAKEUP</td><td></td></tr>
<tr><td>KEY_FILE</td><td></td></tr>
<tr><td>KEY_SENDFILE</td><td></td></tr>
<tr><td>KEY_DELETEFILE</td><td></td></tr>
<tr><td>KEY_XFER</td><td></td></tr>
<tr><td>KEY_PROG1</td><td></td></tr>
<tr><td>KEY_PROG2</td><td></td></tr>
<tr><td>KEY_WWW</td><td></td></tr>
<tr><td>KEY_MSDOS</td><td></td></tr>
<tr><td>KEY_COFFEE</td><td></td></tr>
<tr><td>KEY_DIRECTION</td><td></td></tr>
<tr><td>KEY_CYCLEWINDOWS</td><td></td></tr>
<tr><td>KEY_MAIL</td><td></td></tr>
<tr><td>KEY_BOOKMARKS</td><td></td></tr>
<tr><td>KEY_COMPUTER</td><td></td></tr>
<tr><td>KEY_BACK</td><td></td></tr>
<tr><td>KEY_FORWARD</td><td></td></tr>
<tr><td>KEY_CLOSECD</td><td></td></tr>
<tr><td>KEY_EJECTCD</td><td></td></tr>
<tr><td>KEY_EJECTCLOSECD</td><td></td></tr>
<tr><td>KEY_NEXTSONG</td><td></td></tr>
<tr><td>KEY_PLAYPAUSE</td><td></td></tr>
<tr><td>KEY_PREVIOUSSONG</td><td></td></tr>
<tr><td>KEY_STOPCD</td><td></td></tr>
<tr><td>KEY_RECORD</td><td></td></tr>
<tr><td>KEY_REWIND</td><td></td></tr>
<tr><td>KEY_PHONE</td><td></td></tr>
<tr><td>KEY_ISO</td><td></td></tr>
<tr><td>KEY_CONFIG</td><td></td></tr>
<tr><td>KEY_HOMEPAGE</td><td></td></tr>
<tr><td>KEY_REFRESH</td><td></td></tr>
<tr><td>KEY_EXIT</td><td></td></tr>
<tr><td>KEY_MOVE</td><td></td></tr>
<tr><td>KEY_EDIT</td><td></td></tr>
<tr><td>KEY_SCROLLUP</td><td></td></tr>
<tr><td>KEY_SCROLLDOWN</td><td></td></tr>
<tr><td>KEY_KPLEFTPAREN</td><td></td></tr>
<tr><td>KEY_KPRIGHTPAREN</td><td></td></tr>
<tr><td>KEY_NEW</td><td></td></tr>
<tr><td>KEY_REDO</td><td></td></tr>
<tr><td>KEY_F13</td><td></td></tr>
<tr><td>KEY_F14</td><td></td></tr>
<tr><td>KEY_F15</td><td></td></tr>
<tr><td>KEY_F16</td><td></td></tr>
<tr><td>KEY_F17</td><td></td></tr>
<tr><td>KEY_F18</td><td></td></tr>
<tr><td>KEY_F19</td><td></td></tr>
<tr><td>KEY_F20</td><td></td></tr>
<tr><td>KEY_F21</td><td></td></tr>
<tr><td>KEY_F22</td><td></td></tr>
<tr><td>KEY_F23</td><td></td></tr>
<tr><td>KEY_F24</td><td></td></tr>
<tr><td>KEY_PLAYCD</td><td></td></tr>
<tr><td>KEY_PAUSECD</td><td></td></tr>
<tr><td>KEY_PROG3</td><td></td></tr>
<tr><td>KEY_PROG4</td><td></td></tr>
<tr><td>KEY_DASHBOARD</td><td></td></tr>
<tr><td>KEY_SUSPEND</td><td></td></tr>
<tr><td>KEY_CLOSE</td><td></td></tr>
<tr><td>KEY_PLAY</td><td></td></tr>
<tr><td>KEY_FASTFORWARD</td><td></td></tr>
<tr><td>KEY_BASSBOOST</td><td></td></tr>
<tr><td>KEY_PRINT</td><td></td></tr>
<tr><td>KEY_HP</td><td></td></tr>
<tr><td>KEY_CAMERA</td><td></td></tr>
<tr><td>KEY_SOUND</td><td></td></tr>
<tr><td>KEY_QUESTION</td><td></td></tr>
<tr><td>KEY_EMAIL</td><td></td></tr>
<tr><td>KEY_CHAT</td><td></td></tr>
<tr><td>KEY_SEARCH</td><td></td></tr>
<tr><td>KEY_CONNECT</td><td></td></tr>
<tr><td>KEY_FINANCE</td><td></td></tr>
<tr><td>KEY_SPORT</td><td></td></tr>
<tr><td>KEY_SHOP</td><td></td></tr>
<tr><td>KEY_ALTERASE</td><td></td></tr>
<tr><td>KEY_CANCEL</td><td></td></tr>
<tr><td>KEY_BRIGHTNESSDOWN</td><td></td></tr>
<tr><td>KEY_BRIGHTNESSUP</td><td></td></tr>
<tr><td>KEY_MEDIA</td><td></td></tr>
<tr><td>KEY_SWITCHVIDEOMODE</td><td></td></tr>
<tr><td>KEY_KBDILLUMTOGGLE</td><td></td></tr>
<tr><td>KEY_KBDILLUMDOWN</td><td></td></tr>
<tr><td>KEY_KBDILLUMUP</td><td></td></tr>
<tr><td>KEY_SEND</td><td></td></tr>
<tr><td>KEY_REPLY</td><td></td></tr>
<tr><td>KEY_FORWARDMAIL</td><td></td></tr>
<tr><td>KEY_SAVE</td><td></td></tr>
<tr><td>KEY_DOCUMENTS</td><td></td></tr>
<tr><td>KEY_BATTERY</td><td></td></tr>
<tr><td>KEY_BLUETOOTH</td><td></td></tr>
<tr><td>KEY_WLAN</td><td></td></tr>
<tr><td>KEY_UWB</td><td></td></tr>
<tr><td>KEY_UNKNOWN</td><td></td></tr>
<tr><td>KEY_VIDEO_NEXT</td><td></td></tr>
<tr><td>KEY_VIDEO_PREV</td><td></td></tr>
<tr><td>KEY_BRIGHTNESS_CYCLE</td><td></td></tr>
<tr><td>KEY_BRIGHTNESS_AUTO</td><td></td></tr>
<tr><td>KEY_DISPLAY_OFF</td><td></td></tr>
<tr><td>KEY_WWAN</td><td></td></tr>
<tr><td>KEY_RFKILL</td><td></td></tr>
<tr><td>KEY_MICMUTE</td><td></td></tr>
<tr><td>BTN_0</td><td></td></tr>
<tr><td>BTN_1</td><td></td></tr>
<tr><td>BTN_2</td><td></td></tr>
<tr><td>BTN_3</td><td></td></tr>
<tr><td>BTN_4</td><td></td></tr>
<tr><td>BTN_5</td><td></td></tr>
<tr><td>BTN_6</td><td></td></tr>
<tr><td>BTN_7</td><td></td></tr>
<tr><td>BTN_8</td><td></td></tr>
<tr><td>BTN_9</td><td></td></tr>
<tr><td>BTN_LEFT</td><td></td></tr>
<tr><td>BTN_RIGHT</td><td></td></tr>
<tr><td>BTN_MIDDLE</td><td></td></tr>
<tr><td>BTN_SIDE</td><td></td></tr>
<tr><td>BTN_EXTRA</td><td></td></tr>
<tr><td>BTN_FORWARD</td><td></td></tr>
<tr><td>BTN_BACK</td><td></td></tr>
<tr><td>BTN_TASK</td><td></td></tr>
<tr><td>BTN_TRIGGER</td><td></td></tr>
<tr><td>BTN_THUMB</td><td></td></tr>
<tr><td>BTN_THUMB2</td><td></td></tr>
<tr><td>BTN_TOP</td><td></td></tr>
<tr><td>BTN_TOP2</td><td></td></tr>
<tr><td>BTN_PINKIE</td><td></td></tr>
<tr><td>BTN_BASE</td><td></td></tr>
<tr><td>BTN_BASE2</td><td></td></tr>
<tr><td>BTN_BASE3</td><td></td></tr>
<tr><td>BTN_BASE4</td><td></td></tr>
<tr><td>BTN_BASE5</td><td></td></tr>
<tr><td>BTN_BASE6</td><td></td></tr>
<tr><td>BTN_DEAD</td><td></td></tr>
<tr><td>BTN_SOUTH</td><td></td></tr>
<tr><td>BTN_EAST</td><td></td></tr>
<tr><td>BTN_C</td><td></td></tr>
<tr><td>BTN_NORTH</td><td></td></tr>
<tr><td>BTN_WEST</td><td></td></tr>
<tr><td>BTN_Z</td><td></td></tr>
<tr><td>BTN_TL</td><td></td></tr>
<tr><td>BTN_TR</td><td></td></tr>
<tr><td>BTN_TL2</td><td></td></tr>
<tr><td>BTN_TR2</td><td></td></tr>
<tr><td>BTN_SELECT</td><td></td></tr>
<tr><td>BTN_START</td><td></td></tr>
<tr><td>BTN_MODE</td><td></td></tr>
<tr><td>BTN_THUMBL</td><td></td></tr>
<tr><td>BTN_THUMBR</td><td></td></tr>
<tr><td>BTN_TOOL_PEN</td><td></td></tr>
<tr><td>BTN_TOOL_RUBBER</td><td></td></tr>
<tr><td>BTN_TOOL_BRUSH</td><td></td></tr>
<tr><td>BTN_TOOL_PENCIL</td><td></td></tr>
<tr><td>BTN_TOOL_AIRBRUSH</td><td></td></tr>
<tr><td>BTN_TOOL_FINGER</td><td></td></tr>
<tr><td>BTN_TOOL_MOUSE</td><td></td></tr>
<tr><td>BTN_TOOL_LENS</td><td></td></tr>
<tr><td>BTN_TOOL_QUINTTAP</td><td></td></tr>
<tr><td>BTN_TOUCH</td><td></td></tr>
<tr><td>BTN_STYLUS</td><td></td></tr>
<tr><td>BTN_STYLUS2</td><td></td></tr>
<tr><td>BTN_TOOL_DOUBLETAP</td><td></td></tr>
<tr><td>BTN_TOOL_TRIPLETAP</td><td></td></tr>
<tr><td>BTN_TOOL_QUADTAP</td><td></td></tr>
<tr><td>BTN_GEAR_DOWN</td><td></td></tr>
<tr><td>BTN_GEAR_UP</td><td></td></tr>
<tr><td>KEY_OK</td><td></td></tr>
<tr><td>KEY_SELECT</td><td></td></tr>
<tr><td>KEY_GOTO</td><td></td></tr>
<tr><td>KEY_CLEAR</td><td></td></tr>
<tr><td>KEY_POWER2</td><td></td></tr>
<tr><td>KEY_OPTION</td><td></td></tr>
<tr><td>KEY_INFO</td><td></td></tr>
<tr><td>KEY_TIME</td><td></td></tr>
<tr><td>KEY_VENDOR</td><td></td></tr>
<tr><td>KEY_ARCHIVE</td><td></td></tr>
<tr><td>KEY_PROGRAM</td><td></td></tr>
<tr><td>KEY_CHANNEL</td><td></td></tr>
<tr><td>KEY_FAVORITES</td><td></td></tr>
<tr><td>KEY_EPG</td><td></td></tr>
<tr><td>KEY_PVR</td><td></td></tr>
<tr><td>KEY_MHP</td><td></td></tr>
<tr><td>KEY_LANGUAGE</td><td></td></tr>
<tr><td>KEY_TITLE</td><td></td></tr>
<tr><td>KEY_SUBTITLE</td><td></td></tr>
<tr><td>KEY_ANGLE</td><td></td></tr>
<tr><td>KEY_ZOOM</td><td></td></tr>
<tr><td>KEY_MODE</td><td></td></tr>
<tr><td>KEY_KEYBOARD</td><td></td></tr>
<tr><td>KEY_SCREEN</td><td></td></tr>
<tr><td>KEY_PC</td><td></td></tr>
<tr><td>KEY_TV</td><td></td></tr>
<tr><td>KEY_TV2</td><td></td></tr>
<tr><td>KEY_VCR</td><td></td></tr>
<tr><td>KEY_VCR2</td><td></td></tr>
<tr><td>KEY_SAT</td><td></td></tr>
<tr><td>KEY_SAT2</td><td></td></tr>
<tr><td>KEY_CD</td><td></td></tr>
<tr><td>KEY_TAPE</td><td></td></tr>
<tr><td>KEY_RADIO</td><td></td></tr>
<tr><td>KEY_TUNER</td><td></td></tr>
<tr><td>KEY_PLAYER</td><td></td></tr>
<tr><td>KEY_TEXT</td><td></td></tr>
<tr><td>KEY_DVD</td><td></td></tr>
<tr><td>KEY_AUX</td><td></td></tr>
<tr><td>KEY_MP3</td><td></td></tr>
<tr><td>KEY_AUDIO</td><td></td></tr>
<tr><td>KEY_VIDEO</td><td></td></tr>
<tr><td>KEY_DIRECTORY</td><td></td></tr>
<tr><td>KEY_LIST</td><td></td></tr>
<tr><td>KEY_MEMO</td><td></td></tr>
<tr><td>KEY_CALENDAR</td><td></td></tr>
<tr><td>KEY_RED</td><td></td></tr>
<tr><td>KEY_GREEN</td><td></td></tr>
<tr><td>KEY_YELLOW</td><td></td></tr>
<tr><td>KEY_BLUE</td><td></td></tr>
<tr><td>KEY_CHANNELUP</td><td></td></tr>
<tr><td>KEY_CHANNELDOWN</td><td></td></tr>
<tr><td>KEY_FIRST</td><td></td></tr>
<tr><td>KEY_LAST</td><td></td></tr>
<tr><td>KEY_AB</td><td></td></tr>
<tr><td>KEY_NEXT</td><td></td></tr>
<tr><td>KEY_RESTART</td><td></td></tr>
<tr><td>KEY_SLOW</td><td></td></tr>
<tr><td>KEY_SHUFFLE</td><td></td></tr>
<tr><td>KEY_BREAK</td><td></td></tr>
<tr><td>KEY_PREVIOUS</td><td></td></tr>
<tr><td>KEY_DIGITS</td><td></td></tr>
<tr><td>KEY_TEEN</td><td></td></tr>
<tr><td>KEY_TWEN</td><td></td></tr>
<tr><td>KEY_VIDEOPHONE</td><td></td></tr>
<tr><td>KEY_GAMES</td><td></td></tr>
<tr><td>KEY_ZOOMIN</td><td></td></tr>
<tr><td>KEY_ZOOMOUT</td><td></td></tr>
<tr><td>KEY_ZOOMRESET</td><td></td></tr>
<tr><td>KEY_WORDPROCESSOR</td><td></td></tr>
<tr><td>KEY_EDITOR</td><td></td></tr>
<tr><td>KEY_SPREADSHEET</td><td></td></tr>
<tr><td>KEY_GRAPHICSEDITOR</td><td></td></tr>
<tr><td>KEY_PRESENTATION</td><td></td></tr>
<tr><td>KEY_DATABASE</td><td></td></tr>
<tr><td>KEY_NEWS</td><td></td></tr>
<tr><td>KEY_VOICEMAIL</td><td></td></tr>
<tr><td>KEY_ADDRESSBOOK</td><td></td></tr>
<tr><td>KEY_MESSENGER</td><td></td></tr>
<tr><td>KEY_DISPLAYTOGGLE</td><td></td></tr>
<tr><td>KEY_SPELLCHECK</td><td></td></tr>
<tr><td>KEY_LOGOFF</td><td></td></tr>
<tr><td>KEY_DOLLAR</td><td></td></tr>
<tr><td>KEY_EURO</td><td></td></tr>
<tr><td>KEY_FRAMEBACK</td><td></td></tr>
<tr><td>KEY_FRAMEFORWARD</td><td></td></tr>
<tr><td>KEY_CONTEXT_MENU</td><td></td></tr>
<tr><td>KEY_MEDIA_REPEAT</td><td></td></tr>
<tr><td>KEY_10CHANNELSUP</td><td></td></tr>
<tr><td>KEY_10CHANNELSDOWN</td><td></td></tr>
<tr><td>KEY_IMAGES</td><td></td></tr>
<tr><td>KEY_DEL_EOL</td><td></td></tr>
<tr><td>KEY_DEL_EOS</td><td></td></tr>
<tr><td>KEY_INS_LINE</td><td></td></tr>
<tr><td>KEY_DEL_LINE</td><td></td></tr>
<tr><td>KEY_FN</td><td></td></tr>
<tr><td>KEY_FN_ESC</td><td></td></tr>
<tr><td>KEY_FN_F1</td><td></td></tr>
<tr><td>KEY_FN_F2</td><td></td></tr>
<tr><td>KEY_FN_F3</td><td></td></tr>
<tr><td>KEY_FN_F4</td><td></td></tr>
<tr><td>KEY_FN_F5</td><td></td></tr>
<tr><td>KEY_FN_F6</td><td></td></tr>
<tr><td>KEY_FN_F7</td><td></td></tr>
<tr><td>KEY_FN_F8</td><td></td></tr>
<tr><td>KEY_FN_F9</td><td></td></tr>
<tr><td>KEY_FN_F10</td><td></td></tr>
<tr><td>KEY_FN_F11</td><td></td></tr>
<tr><td>KEY_FN_F12</td><td></td></tr>
<tr><td>KEY_FN_1</td><td></td></tr>
<tr><td>KEY_FN_2</td><td></td></tr>
<tr><td>KEY_FN_D</td><td></td></tr>
<tr><td>KEY_FN_E</td><td></td></tr>
<tr><td>KEY_FN_F</td><td></td></tr>
<tr><td>KEY_FN_S</td><td></td></tr>
<tr><td>KEY_FN_B</td><td></td></tr>
<tr><td>KEY_BRL_DOT1</td><td></td></tr>
<tr><td>KEY_BRL_DOT2</td><td></td></tr>
<tr><td>KEY_BRL_DOT3</td><td></td></tr>
<tr><td>KEY_BRL_DOT4</td><td></td></tr>
<tr><td>KEY_BRL_DOT5</td><td></td></tr>
<tr><td>KEY_BRL_DOT6</td><td></td></tr>
<tr><td>KEY_BRL_DOT7</td><td></td></tr>
<tr><td>KEY_BRL_DOT8</td><td></td></tr>
<tr><td>KEY_BRL_DOT9</td><td></td></tr>
<tr><td>KEY_BRL_DOT10</td><td></td></tr>
<tr><td>KEY_NUMERIC_0</td><td></td></tr>
<tr><td>KEY_NUMERIC_1</td><td></td></tr>
<tr><td>KEY_NUMERIC_2</td><td></td></tr>
<tr><td>KEY_NUMERIC_3</td><td></td></tr>
<tr><td>KEY_NUMERIC_4</td><td></td></tr>
<tr><td>KEY_NUMERIC_5</td><td></td></tr>
<tr><td>KEY_NUMERIC_6</td><td></td></tr>
<tr><td>KEY_NUMERIC_7</td><td></td></tr>
<tr><td>KEY_NUMERIC_8</td><td></td></tr>
<tr><td>KEY_NUMERIC_9</td><td></td></tr>
<tr><td>KEY_NUMERIC_STAR</td><td></td></tr>
<tr><td>KEY_NUMERIC_POUND</td><td></td></tr>
<tr><td>KEY_CAMERA_FOCUS</td><td></td></tr>
<tr><td>KEY_WPS_BUTTON</td><td></td></tr>
<tr><td>KEY_TOUCHPAD_TOGGLE</td><td></td></tr>
<tr><td>KEY_TOUCHPAD_ON</td><td></td></tr>
<tr><td>KEY_TOUCHPAD_OFF</td><td></td></tr>
<tr><td>KEY_CAMERA_ZOOMIN</td><td></td></tr>
<tr><td>KEY_CAMERA_ZOOMOUT</td><td></td></tr>
<tr><td>KEY_CAMERA_UP</td><td></td></tr>
<tr><td>KEY_CAMERA_DOWN</td><td></td></tr>
<tr><td>KEY_CAMERA_LEFT</td><td></td></tr>
<tr><td>KEY_CAMERA_RIGHT</td><td></td></tr>
<tr><td>KEY_ATTENDANT_ON</td><td></td></tr>
<tr><td>KEY_ATTENDANT_OFF</td><td></td></tr>
<tr><td>KEY_ATTENDANT_TOGGLE</td><td></td></tr>
<tr><td>KEY_LIGHTS_TOGGLE</td><td></td></tr>
<tr><td>BTN_DPAD_UP</td><td></td></tr>
<tr><td>BTN_DPAD_DOWN</td><td></td></tr>
<tr><td>BTN_DPAD_LEFT</td><td></td></tr>
<tr><td>BTN_DPAD_RIGHT</td><td></td></tr>
<tr><td>KEY_ALS_TOGGLE</td><td></td></tr>
<tr><td>KEY_BUTTONCONFIG</td><td></td></tr>
<tr><td>KEY_TASKMANAGER</td><td></td></tr>
<tr><td>KEY_JOURNAL</td><td></td></tr>
<tr><td>KEY_CONTROLPANEL</td><td></td></tr>
<tr><td>KEY_APPSELECT</td><td></td></tr>
<tr><td>KEY_SCREENSAVER</td><td></td></tr>
<tr><td>KEY_VOICECOMMAND</td><td></td></tr>
<tr><td>KEY_BRIGHTNESS_MIN</td><td></td></tr>
<tr><td>KEY_BRIGHTNESS_MAX</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_PREV</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_NEXT</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_PREVGROUP</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_NEXTGROUP</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_ACCEPT</td><td></td></tr>
<tr><td>KEY_KBDINPUTASSIST_CANCEL</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY1</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY2</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY3</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY4</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY5</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY6</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY7</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY8</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY9</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY10</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY11</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY12</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY13</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY14</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY15</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY16</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY17</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY18</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY19</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY20</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY21</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY22</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY23</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY24</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY25</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY26</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY27</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY28</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY29</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY30</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY31</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY32</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY33</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY34</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY35</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY36</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY37</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY38</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY39</td><td></td></tr>
<tr><td>BTN_TRIGGER_HAPPY40</td><td></td></tr>
</tbody></table>
<h4 id="leds"><a class="header" href="#leds">LEDs</a></h4>
<p>An LED was toggled.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>LED_NUML</td><td></td></tr>
<tr><td>LED_CAPSL</td><td></td></tr>
<tr><td>LED_SCROLLL</td><td></td></tr>
<tr><td>LED_COMPOSE</td><td></td></tr>
<tr><td>LED_KANA</td><td></td></tr>
<tr><td>LED_SLEEP</td><td>Stand-by</td></tr>
<tr><td>LED_SUSPEND</td><td></td></tr>
<tr><td>LED_MUTE</td><td></td></tr>
<tr><td>LED_MISC</td><td>Generic indicator</td></tr>
<tr><td>LED_MAIL</td><td>Message waiting</td></tr>
<tr><td>LED_CHARGING</td><td>External power connected</td></tr>
</tbody></table>
<h3 id="relative-axes"><a class="header" href="#relative-axes">Relative Axes</a></h3>
<p>Movement on a relative axis. There is no absolute coordinate frame, just the fact that there was a change of a
certain amount of units. Used for things like mouse movement or scroll wheels.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>REL_X</td><td></td></tr>
<tr><td>REL_Y</td><td></td></tr>
<tr><td>REL_Z</td><td></td></tr>
<tr><td>REL_RX</td><td></td></tr>
<tr><td>REL_RY</td><td></td></tr>
<tr><td>REL_RZ</td><td></td></tr>
<tr><td>REL_HWHEEL</td><td></td></tr>
<tr><td>REL_DIAL</td><td></td></tr>
<tr><td>REL_WHEEL</td><td></td></tr>
<tr><td>REL_MISC</td><td></td></tr>
<tr><td>REL_RESERVED</td><td></td></tr>
<tr><td>REL_WHEEL_HI_RES</td><td></td></tr>
<tr><td>REL_HWHEEL_HI_RES</td><td></td></tr>
</tbody></table>
<h3 id="absolute-axes"><a class="header" href="#absolute-axes">Absolute Axes</a></h3>
<p>Movement on an absolute axis. Used for things such as touch events and joysticks.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>ABS_X</td><td></td></tr>
<tr><td>ABS_Y</td><td></td></tr>
<tr><td>ABS_Z</td><td></td></tr>
<tr><td>ABS_RX</td><td></td></tr>
<tr><td>ABS_RY</td><td></td></tr>
<tr><td>ABS_RZ</td><td></td></tr>
<tr><td>ABS_THROTTLE</td><td></td></tr>
<tr><td>ABS_RUDDER</td><td></td></tr>
<tr><td>ABS_WHEEL</td><td></td></tr>
<tr><td>ABS_GAS</td><td></td></tr>
<tr><td>ABS_BRAKE</td><td></td></tr>
<tr><td>ABS_HAT0X</td><td></td></tr>
<tr><td>ABS_HAT0Y</td><td></td></tr>
<tr><td>ABS_HAT1X</td><td></td></tr>
<tr><td>ABS_HAT1Y</td><td></td></tr>
<tr><td>ABS_HAT2X</td><td></td></tr>
<tr><td>ABS_HAT2Y</td><td></td></tr>
<tr><td>ABS_HAT3X</td><td></td></tr>
<tr><td>ABS_HAT3Y</td><td></td></tr>
<tr><td>ABS_PRESSURE</td><td></td></tr>
<tr><td>ABS_DISTANCE</td><td></td></tr>
<tr><td>ABS_TILT_X</td><td></td></tr>
<tr><td>ABS_TILT_Y</td><td></td></tr>
<tr><td>ABS_TOOL_WIDTH</td><td></td></tr>
<tr><td>ABS_VOLUME</td><td></td></tr>
<tr><td>ABS_MISC</td><td></td></tr>
<tr><td>ABS_MT_SLOT</td><td>MT slot being modified</td></tr>
<tr><td>ABS_MT_TOUCH_MAJOR</td><td>Major axis of touching ellipse</td></tr>
<tr><td>ABS_MT_TOUCH_MINOR</td><td>Minor axis (omit if circular)</td></tr>
<tr><td>ABS_MT_WIDTH_MAJOR</td><td>Major axis of approaching ellipse</td></tr>
<tr><td>ABS_MT_WIDTH_MINOR</td><td>Minor axis (omit if circular)</td></tr>
<tr><td>ABS_MT_ORIENTATION</td><td>Ellipse orientation</td></tr>
<tr><td>ABS_MT_POSITION_X</td><td>Center X touch position</td></tr>
<tr><td>ABS_MT_POSITION_Y</td><td>Center Y touch position</td></tr>
<tr><td>ABS_MT_TOOL_TYPE</td><td>Type of touching device</td></tr>
<tr><td>ABS_MT_BLOB_ID</td><td>Group a set of packets as a blob</td></tr>
<tr><td>ABS_MT_TRACKING_ID</td><td>Unique ID of the initiated contact</td></tr>
<tr><td>ABS_MT_PRESSURE</td><td>Pressure on contact area</td></tr>
<tr><td>ABS_MT_DISTANCE</td><td>Contact over distance</td></tr>
<tr><td>ABS_MT_TOOL_X</td><td>Center X tool position</td></tr>
<tr><td>ABS_MT_TOOL_Y</td><td>Center Y tool position</td></tr>
</tbody></table>
<h3 id="switches"><a class="header" href="#switches">Switches</a></h3>
<p>Change in a switch value. Switches are boolean conditions and usually correspond to a toggle switch of some kind
in hardware.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>SW_LID</td><td>set = lid shut</td></tr>
<tr><td>SW_TABLET_MODE</td><td>set = tablet mode</td></tr>
<tr><td>SW_HEADPHONE_INSERT</td><td>set = inserted</td></tr>
<tr><td>SW_RFKILL_ALL</td><td>rfkill master switch, type ‘any’</td></tr>
<tr><td>SW_MICROPHONE_INSERT</td><td>set = inserted</td></tr>
<tr><td>SW_DOCK</td><td>set = plugged into doc</td></tr>
<tr><td>SW_LINEOUT_INSERT</td><td>set = inserted</td></tr>
<tr><td>SW_JACK_PHYSICAL_INSERT</td><td>set = mechanical switch set</td></tr>
<tr><td>SW_VIDEOOUT_INSERT</td><td>set = inserted</td></tr>
<tr><td>SW_CAMERA_LENS_COVER</td><td>set = lens covered</td></tr>
<tr><td>SW_KEYPAD_SLIDE</td><td>set = keypad slide out</td></tr>
<tr><td>SW_FRONT_PROXIMITY</td><td>set = front proximity sensor active</td></tr>
<tr><td>SW_ROTATE_LOCK</td><td>set = rotate locked/disabled</td></tr>
<tr><td>SW_LINEIN_INSERT</td><td>set = inserted</td></tr>
<tr><td>SW_MUTE_DEVICE</td><td>set = device disabled</td></tr>
<tr><td>SW_PEN_INSERTED</td><td>set = pen inserted</td></tr>
<tr><td>SW_MACHINE_COVER</td><td>set = cover closed</td></tr>
</tbody></table>
<h2 id="appendix-shared-keys"><a class="header" href="#appendix-shared-keys">Appendix: Shared Keys</a></h2>
<p><img src="images/input_device_two_keyboards_shared_keys.png" alt="Inexor" /></p>
<p><img src="images/input_device_two_keyboards_shared_leds.png" alt="Inexor" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-json"><a class="header" href="#plugin-json">Plugin: JSON</a></h1>
<p>This plugin adds functionality to operate with complex data structures. Properties of entity instances or relation
instances can have different data types. It's possible to store even complex data using the data  types array and
object. This is handy if you receive data from an MQTT endpoint or if you want to represent  more complex data. But it
makes it also necessary to unpack or pack these data in order to operate with it.</p>
<h4 id="entity-types-6"><a class="header" href="#entity-types-6">Entity Types</a></h4>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ArrayPush</td><td>array</td><td>array</td><td>input</td></tr>
<tr><td></td><td>to_be_added_value</td><td>any</td><td>input</td></tr>
<tr><td></td><td>result</td><td>array</td><td>output</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ArrayPop</td><td>array</td><td>array</td><td>input</td></tr>
<tr><td></td><td>result</td><td>array</td><td>output</td></tr>
<tr><td></td><td>removed_value</td><td>any</td><td>input</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ArrayGetByIndex</td><td>array</td><td>array</td><td>input</td></tr>
<tr><td></td><td>index</td><td>number</td><td>output</td></tr>
<tr><td></td><td>result</td><td>any</td><td>output</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ObjectSetProperty</td><td>object</td><td>object</td><td>input</td></tr>
<tr><td></td><td>property_name</td><td>string</td><td>input</td></tr>
<tr><td></td><td>property_value</td><td>any</td><td>input</td></tr>
<tr><td></td><td>result</td><td>object</td><td>output</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ObjectRemoveProperty</td><td>object</td><td>object</td><td>input</td></tr>
<tr><td></td><td>property_name</td><td>string</td><td>input</td></tr>
<tr><td></td><td>result</td><td>object</td><td>output</td></tr>
<tr><td></td><td>removed_value</td><td>any</td><td>output</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>ObjectGetProperty</td><td>object</td><td>object</td><td>input</td></tr>
<tr><td></td><td>property_name</td><td>string</td><td>input</td></tr>
<tr><td></td><td>result</td><td>any</td><td>output</td></tr>
</tbody></table>
<h2 id="repository-2"><a class="header" href="#repository-2">Repository</a></h2>
<table><thead><tr><th>Name</th><th>Repository</th></tr></thead><tbody>
<tr><td>inexor-rgf-plugin-json</td><td>https://github.com/aschaeffer/inexor-rgf-plugin-json</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-string"><a class="header" href="#plugin-string">Plugin: String</a></h1>
<h2 id="components-4"><a class="header" href="#components-4">Components</a></h2>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>StringOperation</td><td>lhs</td><td>string</td><td>input</td></tr>
<tr><td></td><td>result</td><td>string</td><td>output</td></tr>
<tr><td>StringGate</td><td>lhs</td><td>string</td><td>input</td></tr>
<tr><td></td><td>rhs</td><td>string</td><td>input</td></tr>
<tr><td></td><td>result</td><td>string</td><td>output</td></tr>
<tr><td>StringComparison</td><td>lhs</td><td>string</td><td>input</td></tr>
<tr><td></td><td>rhs</td><td>string</td><td>input</td></tr>
<tr><td></td><td>result</td><td>bool</td><td>output</td></tr>
</tbody></table>
<h2 id="entity-types--behaviours"><a class="header" href="#entity-types--behaviours">Entity Types / Behaviours</a></h2>
<table><thead><tr><th>Name</th><th>Component</th><th>Description</th></tr></thead><tbody>
<tr><td>Trim</td><td>StringOperation</td><td>Removes whitespace at the beginning and end of a string</td></tr>
<tr><td>TrimStart</td><td>StringOperation</td><td>Removes whitespace at the beginning of a string</td></tr>
<tr><td>TrimEnd</td><td>StringOperation</td><td>Removes whitespace at the end of a string</td></tr>
<tr><td>Uppercase</td><td>StringOperation</td><td></td></tr>
<tr><td>Lowercase</td><td>StringOperation</td><td></td></tr>
<tr><td>StartsWith</td><td>StringComparison</td><td></td></tr>
<tr><td>EndsWith</td><td>StringComparison</td><td></td></tr>
<tr><td>Contains</td><td>StringComparison</td><td></td></tr>
<tr><td>...</td><td></td><td></td></tr>
<tr><td>Split</td><td></td><td>lhs (str), rhs (str) -&gt; result (array of str)</td></tr>
<tr><td>Join</td><td></td><td>lhs (arr of str) -&gt; result (str)</td></tr>
<tr><td>Replace</td><td></td><td>lhs (str), search (str), replace (str) -&gt; result (str)</td></tr>
<tr><td>Chars</td><td></td><td>lhs (str) -&gt; result (array of str)</td></tr>
<tr><td>Len</td><td></td><td>lhs (str) -&gt; result (i64)</td></tr>
<tr><td>Lines</td><td></td><td>lhs (str) -&gt; result (array of str)</td></tr>
</tbody></table>
<h2 id="rust-crate--rust-reference-1"><a class="header" href="#rust-crate--rust-reference-1">Rust Crate / Rust Reference</a></h2>
<ul>
<li>https://doc.rust-lang.org/std/string/struct.String.html</li>
</ul>
<h2 id="repository-3"><a class="header" href="#repository-3">Repository</a></h2>
<table><thead><tr><th>Name</th><th>Repository</th></tr></thead><tbody>
<tr><td>inexor-rgf-plugin-string</td><td>https://github.com/aschaeffer/inexor-rgf-plugin-string</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-system-command"><a class="header" href="#plugin-system-command">Plugin: System Command</a></h1>
<p>This plugin enables system commands to be executed. This is useful in home automation applications, e.g. if you want to
control a headless Raspberry Pi Zero.</p>
<p>It can be configured in which directory the system command is executed.</p>
<p>A system command is executed by triggering (i.e. changing) the spawn property. Please see the GraphQL example.</p>
<p>When a program runs, it writes to stdout and stderr. These outputs are available in the corresponding properties after
the program has ended.</p>
<div class="admonition warning">
<div class="admonition-title">
<p>
<p>A word about safety</p>
</p>
</div>
<div>
<p>
<p>Only activate the plugin if you know what you are doing. Do not run the Reactive Graph Flow as root user, because the system command will be executed as the same user! The GraphQL endpoint should also be specially protected.</p>
</p>
</div>
</div>
<h2 id="entity-types-7"><a class="header" href="#entity-types-7">Entity Types</a></h2>
<table><thead><tr><th>Name</th><th>Property</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>SystemCommand</td><td>name</td><td>string</td><td>none</td></tr>
<tr><td></td><td>current_dir</td><td>string</td><td>none</td></tr>
<tr><td></td><td>command</td><td>string</td><td>none</td></tr>
<tr><td></td><td>spawn</td><td>array</td><td>input</td></tr>
<tr><td></td><td>stdin</td><td>string</td><td>input</td></tr>
<tr><td></td><td>stdout</td><td>string</td><td>output</td></tr>
<tr><td></td><td>stderr</td><td>string</td><td>output</td></tr>
</tbody></table>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<h3 id="graphql-create-system-command-list-current-directory"><a class="header" href="#graphql-create-system-command-list-current-directory">GraphQL: Create System Command &quot;List Current Directory&quot;</a></h3>
<p>The system command is only generated but not yet executed.</p>
<pre><code class="language-graphql">mutation {
  instances {
    entities {
      create(
        type: &quot;system_command&quot;,
        id: &quot;57cd91ba-b437-4ba9-b274-b5e1ad4abbe5&quot;,
        properties: [
          {
            name: &quot;name&quot;,
            value: &quot;List files in the current directory&quot;
          },
          {
            name: &quot;current_dir&quot;,
            value: &quot;.&quot;
          },
          {
            name: &quot;command&quot;,
            value: &quot;ls&quot;
          },
          {
            name: &quot;spawn&quot;,
            value: []
          },
          {
            name: &quot;stdin&quot;,
            value: &quot;&quot;
          },
          {
            name: &quot;stdout&quot;,
            value: &quot;&quot;
          },
          {
            name: &quot;stderr&quot;,
            value: &quot;&quot;
          }
        ]
      ) {
        id,
        type {name},
        properties(
          names: [
            &quot;name&quot;,
            &quot;current_dir&quot;,
            &quot;command&quot;,
            &quot;spawn&quot;,
            &quot;stdin&quot;,
            &quot;stdout&quot;,
            &quot;stderr&quot;
          ]
        ) {
          name
          value
        }
      }
    }
  }
}
</code></pre>
<h3 id="graphql-execute-system-command-list-current-directory"><a class="header" href="#graphql-execute-system-command-list-current-directory">GraphQL: Execute System Command &quot;List Current Directory&quot;</a></h3>
<p>A system command is executed when the property <code>spawn</code> is changed. This property expects an array with arguments. If the
command is to be executed without arguments, an empty array can be passed.</p>
<pre><code class="language-graphql">mutation {
  instances {
    entities {
      update(
        id: &quot;57cd91ba-b437-4ba9-b274-b5e1ad4abbe5&quot;,
        properties: [
          {
            name: &quot;spawn&quot;,
            value: [
              &quot;-l&quot;,
              &quot;-a&quot;
            ]
          }
        ]
      ) {
        id,
        type {name},
        properties(
          names: [
            &quot;name&quot;,
            &quot;current_dir&quot;,
            &quot;command&quot;,
            &quot;spawn&quot;,
            &quot;stdin&quot;,
            &quot;stdout&quot;,
            &quot;stderr&quot;
          ]
        ) {
          name
          value
        }
      }
    }
  }
}
</code></pre>
<h2 id="platform-compatibility-2"><a class="header" href="#platform-compatibility-2">Platform Compatibility</a></h2>
<table><thead><tr><th>Platform</th><th>Compatibility</th></tr></thead><tbody>
<tr><td>Linux</td><td>✓</td></tr>
<tr><td>MacOS</td><td>✓</td></tr>
<tr><td>Windows</td><td>✓</td></tr>
</tbody></table>
<h2 id="repository-4"><a class="header" href="#repository-4">Repository</a></h2>
<table><thead><tr><th>Project</th><th>Module</th><th>Sub-Module</th><th>Functionality</th><th>Tests</th></tr></thead><tbody>
<tr><td>Reactive Graph Flow</td><td>Plugin</td><td>System Command</td><td><img src="https://img.shields.io/badge/state-completed-brightgreen"></td><td><a href="https://app.codecov.io/gh/aschaeffer/inexor-rgf-plugin-system-command"><img src="https://img.shields.io/codecov/c/github/aschaeffer/inexor-rgf-plugin-input-device"></a></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin-system-environment"><a class="header" href="#plugin-system-environment">Plugin: System Environment</a></h1>
<p>The plugin creates entity instances for each environment variable. As environment variables doesn't change at runtime
this happens only at initialization.</p>
<h2 id="uuids-1"><a class="header" href="#uuids-1">UUIDs</a></h2>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Info</p>
</p>
</div>
<div>
<p>
<p>The UUIDs of the entity instances are stable.</p>
</p>
</div>
</div>
<h2 id="labels-1"><a class="header" href="#labels-1">Labels</a></h2>
<p>Each entity instance which represents a system environment variable has a label.</p>
<table><thead><tr><th>System Env</th><th>Label</th></tr></thead><tbody>
<tr><td><code>$HOME</code></td><td><code>/org/inexor/system/env/home</code></td></tr>
<tr><td><code>$PATH</code></td><td><code>/org/inexor/system/env/path</code></td></tr>
</tbody></table>
<h2 id="entity-types-8"><a class="header" href="#entity-types-8">Entity Types</a></h2>
<table><thead><tr><th>Name</th><th>Properties</th><th>Data Type</th><th>Socket Type</th></tr></thead><tbody>
<tr><td>EnvVar</td><td>name</td><td>string</td><td>none</td></tr>
<tr><td></td><td>label</td><td>string</td><td>none</td></tr>
<tr><td></td><td>value</td><td>string</td><td>output</td></tr>
</tbody></table>
<h2 id="usage-1"><a class="header" href="#usage-1">Usage</a></h2>
<h3 id="graphql-query-system-environment-variable-by-label"><a class="header" href="#graphql-query-system-environment-variable-by-label">GraphQL: Query System Environment Variable by Label</a></h3>
<pre><code class="language-graphql">query findSystemEnvHome {
  instances {
    entities(label: &quot;/org/inexor/system/env/home&quot;) {
      id
      label
      type {
        name
      }
      properties(names: [&quot;name&quot;, &quot;value&quot;]) {
        name
        value
      }
    }
  }
}
</code></pre>
<h3 id="graphql-query-all-system-environment-variables"><a class="header" href="#graphql-query-all-system-environment-variables">GraphQL: Query all system environment variables</a></h3>
<pre><code class="language-graphql">query getSystemEnvironmentVariables {
  instances {
    entities(type: &quot;system_env&quot;) {
      id
      type { name }
      properties(names: [&quot;name&quot;, &quot;value&quot;]) {
        name
        value
      }
    }
  }
}
</code></pre>
<h2 id="platform-compatibility-3"><a class="header" href="#platform-compatibility-3">Platform Compatibility</a></h2>
<table><thead><tr><th>Platform</th><th>Compatibility</th></tr></thead><tbody>
<tr><td>Linux</td><td>✓</td></tr>
<tr><td>MacOS</td><td>✓</td></tr>
<tr><td>Windows</td><td>✓</td></tr>
</tbody></table>
<h2 id="repository-5"><a class="header" href="#repository-5">Repository</a></h2>
<table><thead><tr><th>Name</th><th>Repository</th></tr></thead><tbody>
<tr><td>inexor-rgf-plugin-system-environment</td><td>https://github.com/aschaeffer/inexor-rgf-plugin-system-environment</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="7-development"><a class="header" href="#7-development">7. Development</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--supported-platforms"><a class="header" href="#development--supported-platforms">Development / Supported Platforms</a></h1>
<p>The inexor reactive graph flow is completely platform-agnostic, which allows it to run on various operating systems.</p>
<h3 id="microsoft-windows"><a class="header" href="#microsoft-windows">Microsoft Windows</a></h3>
<p>We support x64 Microsoft Windows 8, 8.1 and 10.</p>
<p>We have build instructions for Windows.</p>
<h3 id="linux-2"><a class="header" href="#linux-2">Linux</a></h3>
<p>We support x64/arm7 Linux.</p>
<p>We have specific build instructions for Ubuntu and Raspberry Pi 2-4.</p>
<p>If you have found a way to set it up for other Linux distributions, please open a pull request and let us know!</p>
<h3 id="macos-and-ios"><a class="header" href="#macos-and-ios">macOS and iOS</a></h3>
<p>We do not support macOS or iOS yet.</p>
<h3 id="android"><a class="header" href="#android">Android</a></h3>
<p>We also do not support Android yet.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--build"><a class="header" href="#development--build">Development / Build</a></h1>
<h2 id="install-build-tools-rust-and-rustup"><a class="header" href="#install-build-tools-rust-and-rustup">Install build tools (rust and rustup)</a></h2>
<h3 id="linux--raspberry-pi--macos"><a class="header" href="#linux--raspberry-pi--macos">Linux / Raspberry Pi / MacOS</a></h3>
<pre><code class="language-shell">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<h3 id="windows-2"><a class="header" href="#windows-2">Windows</a></h3>
<p>Please follow the instructions for <a href="https://rust-lang.github.io/rustup/installation/other.html">Installing rustup on Windows</a></p>
<h2 id="install-nightly-toolchain"><a class="header" href="#install-nightly-toolchain">Install nightly toolchain</a></h2>
<p>Once you have rustup up and running, please install the <code>nightly</code> toolchain.</p>
<pre><code class="language-shell">rustup update nightly
</code></pre>
<h2 id="clone-the-repository"><a class="header" href="#clone-the-repository">Clone the repository</a></h2>
<pre><code class="language-shell">git clone https://github.com/aschaeffer/inexor-rgf-application.git
</code></pre>
<h2 id="build-the-application"><a class="header" href="#build-the-application">Build the application</a></h2>
<p>Build in development mode:</p>
<pre><code class="language-shell">cd inexor-rgf-application
cargo build
</code></pre>
<p>Build in release mode (takes longer, smaller binaries):</p>
<pre><code class="language-shell">cd inexor-rgf-application
cargo build --release
</code></pre>
<h2 id="run-the-application"><a class="header" href="#run-the-application">Run the application</a></h2>
<pre><code class="language-shell">cargo run
</code></pre>
<p>or:</p>
<pre><code class="language-shell">cargo run --release
</code></pre>
<h2 id="build-plugins"><a class="header" href="#build-plugins">Build plugins</a></h2>
<h3 id="checkout-and-build-the-plugin"><a class="header" href="#checkout-and-build-the-plugin">Checkout and build the plugin</a></h3>
<pre><code class="language-shell">cd ..
git clone https://github.com/aschaeffer/inexor-rgf-plugin-mqtt.git
cd inexor-rgf-plugin-mqtt
</code></pre>
<p>Build in development mode:</p>
<pre><code class="language-shell">cargo build
</code></pre>
<p>Build in release mode:</p>
<pre><code class="language-shell">cargo build --release
</code></pre>
<h3 id="configure-plugin"><a class="header" href="#configure-plugin">Configure plugin</a></h3>
<p>Edit <code>config/plugins.toml</code> and add a section for the plugin. The name must match the crate name of the plugin. Specify
the path to the dynamically linked library. The path can be either absolute or relative to the working directory of the
application.</p>
<pre><code class="language-toml">[[plugin]]
name = &quot;inexor-rgf-plugin-mqtt&quot;
active = true
path = &quot;../inexor-rgf-plugin-mqtt/target/debug/libinexor_rgf_plugin_mqtt.so&quot;
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Configure plugins</p>
</p>
</div>
<div>
<p>
<p>Release builds are located in <code>target/release</code> instead of <code>target/debug</code></p>
</p>
</div>
</div>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Configure plugins</p>
</p>
</div>
<div>
<p>
<p>Please consult the documentation for <a href="./Configuration_Plugins.html">configuring plugins</a></p>
</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--code-formatting"><a class="header" href="#development--code-formatting">Development / Code Formatting</a></h1>
<p>We use <code>rustfmt</code>. rustfmt is a tool for formatting Rust code according to style guidelines.</p>
<h2 id="install-rustfmt"><a class="header" href="#install-rustfmt">Install rustfmt</a></h2>
<pre><code class="language-shell">rustup component add rustfmt --toolchain nightly
</code></pre>
<h2 id="check-formatting"><a class="header" href="#check-formatting">Check formatting</a></h2>
<pre><code class="language-shell">cargo fmt --all -- --check
</code></pre>
<h2 id="reformat-code"><a class="header" href="#reformat-code">Reformat code</a></h2>
<pre><code class="language-shell">cargo fmt --all
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--binary-file-size"><a class="header" href="#development--binary-file-size">Development / Binary File Size</a></h1>
<h2 id="release-profiles"><a class="header" href="#release-profiles">Release Profiles</a></h2>
<pre><code class="language-shell"># Build binary with dev profile
cargo build
</code></pre>
<pre><code class="language-shell"># Build binary with release profile
cargo build --release
</code></pre>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Release Profiles</p>
</p>
</div>
<div>
<p>
<p>For more information about release profiles, please refer to:</p>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch14-01-release-profiles.html">https://doc.rust-lang.org/book/ch14-01-release-profiles.html</a></li>
</ul>
</p>
</div>
</div>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Optimization Levels</p>
</p>
</div>
<div>
<p>
<p>For more information about rust compiler optimization levels, please have a look at</p>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/reference/profiles.html#opt-level">https://doc.rust-lang.org/cargo/reference/profiles.html#opt-level</a></li>
</ul>
</p>
</div>
</div>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p>Strip Symbols</p>
</p>
</div>
<div>
<p>
<p>For more information about strip symbols, please see</p>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/reference/unstable.html#profile-strip-option">https://doc.rust-lang.org/cargo/reference/unstable.html#profile-strip-option</a></li>
</ul>
</p>
</div>
</div>
<h2 id="application-exe"><a class="header" href="#application-exe">Application (exe)</a></h2>
<pre><code class="language-toml">[profile.dev]
opt-level = 0

[profile.release]
opt-level = 3
# 12MB -&gt; 7.8MB
lto = true
# 7.8MB -&gt; 4.5MB
strip = &quot;symbols&quot;
</code></pre>
<h2 id="plugin-sodll"><a class="header" href="#plugin-sodll">Plugin (.so/.dll)</a></h2>
<pre><code class="language-toml">[profile.dev]
opt-level = 0

[profile.release]
opt-level = 3
# 12MB -&gt; 7.8MB
lto = true
# 7.8MB -&gt; 4.5MB
strip = &quot;symbols&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--packaging"><a class="header" href="#development--packaging">Development / Packaging</a></h1>
<h2 id="cargo-rust-package-manager"><a class="header" href="#cargo-rust-package-manager">cargo (Rust Package Manager)</a></h2>
<pre><code class="language-shell">cargo publish NOT_YET_AVAILABLE
</code></pre>
<h2 id="snap-linux"><a class="header" href="#snap-linux">snap (Linux)</a></h2>
<ul>
<li>https://snapcraft.io/docs/rust-plugin</li>
<li>https://snapcraft.io/docs/snap-confinement</li>
</ul>
<h3 id="configuration-files"><a class="header" href="#configuration-files">Configuration Files</a></h3>
<ul>
<li><code>snapcraft.yaml</code></li>
<li><code>rust-toolchain.toml</code></li>
</ul>
<h3 id="create-package"><a class="header" href="#create-package">Create Package</a></h3>
<pre><code class="language-shell">snapcraft
</code></pre>
<h3 id="install-package"><a class="header" href="#install-package">Install Package</a></h3>
<p>The snap have to be installed with <code>--devmode</code>.</p>
<pre><code class="language-shell">sudo snap install --devmode inexor-rgf-application_0.0.0_amd64.snap
</code></pre>
<h3 id="package-information"><a class="header" href="#package-information">Package Information</a></h3>
<pre><code class="language-shell">snap info --verbose inexor-rgf-application
</code></pre>
<h3 id="snapcraftyaml-examples"><a class="header" href="#snapcraftyaml-examples"><code>snapcraft.yaml</code> Examples</a></h3>
<ul>
<li>https://github.com/lenna-project/lenna-cli/blob/7c31c71d1dd060f0c922b3f8b5e87833b5c45600/snapcraft.yaml</li>
<li>https://github.com/mimblewimble/packaging/blob/af8f34c3a3055be8907a7a2c98cbf63e23e792e3/snap/snapcraft.yaml</li>
</ul>
<h2 id="debian"><a class="header" href="#debian">Debian</a></h2>
<p>(TODO)</p>
<ul>
<li>https://crates.io/crates/cargo-deb</li>
</ul>
<h2 id="rpm"><a class="header" href="#rpm">RPM</a></h2>
<p>(TODO)</p>
<ul>
<li>https://crates.io/crates/cargo-rpm</li>
</ul>
<h2 id="arch"><a class="header" href="#arch">Arch</a></h2>
<p>(TODO)</p>
<ul>
<li>https://crates.io/crates/cargo-arch</li>
</ul>
<h2 id="windows-3"><a class="header" href="#windows-3">(Windows)</a></h2>
<p>(TODO)</p>
<ul>
<li>https://crates.io/crates/msi</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development--documentation"><a class="header" href="#development--documentation">Development / Documentation</a></h1>
<p>We use <a href="https://rust-lang.github.io/mdBook/index.html">mdBook</a> for this documentation.</p>
<h2 id="install"><a class="header" href="#install">Install</a></h2>
<pre><code class="language-shell">cargo install mdbook
cargo install mdbook-mermaid
cargo install mdbook-admonish

</code></pre>
<h2 id="build-and-watch-documentation-locally"><a class="header" href="#build-and-watch-documentation-locally">Build and watch documentation locally</a></h2>
<pre><code class="language-shell">mdbook serve --open
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="admonish"><a class="header" href="#admonish">admonish</a></h1>
<div class="admonition info">
<div class="admonition-title">
<p>
<p>Info</p>
</p>
</div>
<div>
<p>
<p>A beautifully styled message.</p>
</p>
</div>
</div>
<div class="admonition warning">
<div class="admonition-title">
<p>
<p>Data loss</p>
</p>
</div>
<div>
<p>
<p>The following steps can lead to irrecoverable data corruption.</p>
</p>
</div>
</div>
<div class="admonition note">
<div class="admonition-title">
<p>
<p>Note</p>
</p>
</div>
<div>
<p>
<p>A plain note.</p>
</p>
</div>
</div>
<div class="admonition tip">
<div class="admonition-title">
<p>
<p><em>Referencing</em> and <i>dereferencing</i></p>
</p>
</div>
<div>
<p>
<p>The opposite of <em>referencing</em> by using <code>&amp;</code> is <em>dereferencing</em>, which is
accomplished with the <span style="color: hotpink">dereference operator</span>, <code>*</code>.</p>
</p>
</div>
</div>
<div class="admonition bug">
<div class="admonition-title">
<p>
<p>Bug</p>
</p>
</div>
<div>
<p>
<p>This syntax won't work in Python 3:</p>
<pre><code class="language-python">print &quot;Hello, world!&quot;
</code></pre>
</p>
</div>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="mermaid.min.js"></script>
        <script type="text/javascript" src="mermaid-init.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
